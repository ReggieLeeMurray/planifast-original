<div style="padding-top: 10px">
  <h1>Nuevo Cálculo</h1>
  <br />
  <nz-steps [nzCurrent]="current">
    <nz-step
      nzTitle="Planilla y Fecha"
      nzDescription="Información General"
    ></nz-step>
    <nz-step
      nzTitle="Ingresos y Deducciones"
      nzDescription="Llena / Revisa los datos requeridos"
    ></nz-step>
    <nz-step
      nzTitle="Cálculo Finalizado"
      nzDescription="Descarga la planilla"
    ></nz-step>
  </nz-steps>
  <nz-modal
    [nzStyle]="{ top: '20px' }"
    [(nzVisible)]="isVisibleArchivo"
    nzTitle="Control de Asistencia"
    nzWidth="90%"
    nzClosable="false"
    (nzOnCancel)="handleCancelArchivo()"
    [nzFooter]="null"
    nzCentered
  >
    <ng-container *nzModalContent>
      <div
        id="main_reviewcontent"
        class="inner-content"
        style="overflow: hidden"
      >
        <div class="card">
          <div class="card-body">
            <!-- add scroll to file preview
            [nzScroll]="{ x: '1150px', y: '480px' }" -->
            <nz-table
              #basicTable
              [nzData]="listFinal"
              nzSize="small"
              nzBordered
              nzTemplateMode
              id="reviewUpload"
              class="table table-md table-hover"
            >
              <thead>
                <tr>
                  <th colspan="2">Información</th>
                  <th colspan="3">Lunes</th>
                  <th colspan="3">Martes</th>
                  <th colspan="3">Miércoles</th>
                  <th colspan="3">Jueves</th>
                  <th colspan="3">Viernes</th>
                  <th colspan="3">Sabado</th>
                  <th colspan="3">Domingo</th>
                </tr>
                <tr>
                  <th rowspan="1">ID</th>
                  <th rowspan="1">
                    <span nz-icon nzType="user" nzTheme="outline"></span>
                  </th>
                  <th rowspan="1">
                    <span nz-icon nzType="login" nzTheme="outline"></span>
                  </th>
                  <th rowspan="1">
                    <span nz-icon nzType="logout" nzTheme="outline"></span>
                  </th>
                  <th rowspan="1">
                    <span nz-icon nzType="info-circle" nzTheme="outline"></span>
                  </th>
                  <th rowspan="1">
                    <span nz-icon nzType="login" nzTheme="outline"></span>
                  </th>
                  <th rowspan="1">
                    <span nz-icon nzType="logout" nzTheme="outline"></span>
                  </th>
                  <th rowspan="1">
                    <span nz-icon nzType="info-circle" nzTheme="outline"></span>
                  </th>
                  <th rowspan="1">
                    <span nz-icon nzType="login" nzTheme="outline"></span>
                  </th>
                  <th rowspan="1">
                    <span nz-icon nzType="logout" nzTheme="outline"></span>
                  </th>
                  <th rowspan="1">
                    <span nz-icon nzType="info-circle" nzTheme="outline"></span>
                  </th>
                  <th rowspan="1">
                    <span nz-icon nzType="login" nzTheme="outline"></span>
                  </th>
                  <th rowspan="1">
                    <span nz-icon nzType="logout" nzTheme="outline"></span>
                  </th>
                  <th rowspan="1">
                    <span nz-icon nzType="info-circle" nzTheme="outline"></span>
                  </th>
                  <th rowspan="1">
                    <span nz-icon nzType="login" nzTheme="outline"></span>
                  </th>
                  <th rowspan="1">
                    <span nz-icon nzType="logout" nzTheme="outline"></span>
                  </th>
                  <th rowspan="1">
                    <span nz-icon nzType="info-circle" nzTheme="outline"></span>
                  </th>
                  <th rowspan="1">
                    <span nz-icon nzType="login" nzTheme="outline"></span>
                  </th>
                  <th rowspan="1">
                    <span nz-icon nzType="logout" nzTheme="outline"></span>
                  </th>
                  <th rowspan="1">
                    <span nz-icon nzType="info-circle" nzTheme="outline"></span>
                  </th>
                  <th rowspan="1">
                    <span nz-icon nzType="login" nzTheme="outline"></span>
                  </th>
                  <th rowspan="1">
                    <span nz-icon nzType="logout" nzTheme="outline"></span>
                  </th>
                  <th rowspan="1">
                    <span nz-icon nzType="info-circle" nzTheme="outline"></span>
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td colspan="23" *ngIf="listFinal?.length <= 0">
                    <nz-empty
                      [nzNotFoundImage]="notFound"
                      [nzNotFoundContent]="contentTpl"
                    ></nz-empty>
                    <ng-template #contentTpl>
                      <span>No hay datos.</span>
                    </ng-template>
                  </td>
                </tr>
                <tr></tr>
                <tr *ngFor="let data of basicTable.data">
                  <td>{{ data.id }}</td>
                  <td>{{ data.nombreCompleto }}</td>
                  <td>{{ data.lunesEntrada | date : "shortTime" }}</td>
                  <td>{{ data.lunesSalida | date : "shortTime" }}</td>
                  <td>{{ data.lunesEvento }}</td>
                  <td>{{ data.martesEntrada | date : "shortTime" }}</td>
                  <td>{{ data.martesSalida | date : "shortTime" }}</td>
                  <td>{{ data.martesEvento }}</td>
                  <td>{{ data.miercolesEntrada | date : "shortTime" }}</td>
                  <td>{{ data.miercolesSalida | date : "shortTime" }}</td>
                  <td>{{ data.miercolesEvento }}</td>
                  <td>{{ data.juevesEntrada | date : "shortTime" }}</td>
                  <td>{{ data.juevesSalida | date : "shortTime" }}</td>
                  <td>{{ data.juevesEvento }}</td>
                  <td>{{ data.viernesEntrada | date : "shortTime" }}</td>
                  <td>{{ data.viernesSalida | date : "shortTime" }}</td>
                  <td>{{ data.viernesEvento }}</td>
                  <td>{{ data.sabadoEntrada | date : "shortTime" }}</td>
                  <td>{{ data.sabadoSalida | date : "shortTime" }}</td>
                  <td>{{ data.sabadoEvento }}</td>
                  <td>{{ data.domingoEntrada | date : "shortTime" }}</td>
                  <td>{{ data.domingoSalida | date : "shortTime" }}</td>
                  <td>{{ data.domingoEvento }}</td>
                </tr>
              </tbody>
            </nz-table>
          </div>
        </div>
      </div>
    </ng-container>
  </nz-modal>
  <nz-modal
    [(nzVisible)]="isVisibleDeducible"
    nzTitle="Establecer Deducibles"
    nzClosable="false"
    [nzStyle]="{ left: '5%' }"
    nzCentered
    nzWidth="40%"
    nzCancelText="Cancelar"
    nzOkText="Guardar"
    (nzOnOk)="handleOkDeducibles()"
    (nzOnCancel)="handleCancelDeducibles()"
  >
    <ng-container *nzModalContent>
      <nz-collapse nzAccordion>
        <nz-collapse-panel
          nzHeader="IHSS"
          nzExpandedIcon="double-right"
          nzActive
        >
          <form nz-form [formGroup]="infoForm">
            <nz-form-item>
              <nz-form-label [nzSm]="10" nzRequired
                >Techo EM (Enfermedad y Maternidad)</nz-form-label
              >
              <nz-form-control [nzSm]="10">
                <input
                  nz-input
                  placeholder="Ingrese cantidad en lps"
                  type="number"
                  nzSize="default"
                  formControlName="techoEM_IHSS"
                  min="0"
                />
              </nz-form-control>
              <td>
                <nz-switch
                  [(ngModel)]="switchValueTechoEM_IHSS"
                  [nzCheckedChildren]="checkedTemplate"
                  [nzUnCheckedChildren]="unCheckedTemplate"
                  (ngModelChange)="enableTechoEM_IHSS()"
                  [ngModelOptions]="{ standalone: true }"
                ></nz-switch>
                <ng-template #checkedTemplate
                  ><i nz-icon nzType="edit" nzTheme="outline"></i
                ></ng-template>
                <ng-template #unCheckedTemplate
                  ><i nz-icon nzType="check"></i
                ></ng-template>
              </td>
            </nz-form-item>

            <nz-form-item>
              <nz-form-label [nzSm]="10" nzRequired
                >% de Contribución EM</nz-form-label
              >
              <nz-form-control [nzSm]="10">
                <input
                  nz-input
                  placeholder="Ingrese valor"
                  type="number"
                  nzSize="default"
                  formControlName="porcentajeContribucionTrabajadorEM_IHSS"
                  min="0"
                />
              </nz-form-control>
              <td>
                <nz-switch
                  [(ngModel)]="switchValuePorcentajeEM_IHSS"
                  [nzCheckedChildren]="checkedTemplate"
                  [nzUnCheckedChildren]="unCheckedTemplate"
                  (ngModelChange)="enablePorcentajeEM_IHSS()"
                  [ngModelOptions]="{ standalone: true }"
                ></nz-switch>
                <ng-template #checkedTemplate
                  ><i nz-icon nzType="edit" nzTheme="outline"></i
                ></ng-template>
                <ng-template #unCheckedTemplate
                  ><i nz-icon nzType="check"></i
                ></ng-template>
              </td>
            </nz-form-item>

            <nz-form-item>
              <nz-form-label [nzSm]="10" nzRequired
                >Techo IVM (Invalidez, Vejez y Muerte)</nz-form-label
              >
              <nz-form-control [nzSm]="10">
                <input
                  nz-input
                  placeholder="Ingrese cantidad en lps"
                  type="number"
                  nzSize="default"
                  formControlName="techoIVM_IHSS"
                  min="0"
                />
              </nz-form-control>
              <td>
                <nz-switch
                  [(ngModel)]="switchValueTechoIVM_IHSS"
                  [nzCheckedChildren]="checkedTemplate"
                  [nzUnCheckedChildren]="unCheckedTemplate"
                  (ngModelChange)="enableTechoIVM_IHSS()"
                  [ngModelOptions]="{ standalone: true }"
                ></nz-switch>
                <ng-template #checkedTemplate
                  ><i nz-icon nzType="edit" nzTheme="outline"></i
                ></ng-template>
                <ng-template #unCheckedTemplate
                  ><i nz-icon nzType="check"></i
                ></ng-template>
              </td>
            </nz-form-item>

            <nz-form-item>
              <nz-form-label [nzSm]="10" nzRequired
                >% de Contribución IVM</nz-form-label
              >
              <nz-form-control [nzSm]="10">
                <input
                  nz-input
                  placeholder="Ingrese valor"
                  type="number"
                  nzSize="default"
                  formControlName="porcentajeContribucionTrabajadorIVM_IHSS"
                  min="0"
                />
              </nz-form-control>
              <td>
                <nz-switch
                  [(ngModel)]="switchValuePorcentajeIVM_IHSS"
                  [nzCheckedChildren]="checkedTemplate"
                  [nzUnCheckedChildren]="unCheckedTemplate"
                  (ngModelChange)="enablePorcentajeIVM_IHSS()"
                  [ngModelOptions]="{ standalone: true }"
                ></nz-switch>
                <ng-template #checkedTemplate
                  ><i nz-icon nzType="edit" nzTheme="outline"></i
                ></ng-template>
                <ng-template #unCheckedTemplate
                  ><i nz-icon nzType="check"></i
                ></ng-template>
              </td>
            </nz-form-item>
          </form>
        </nz-collapse-panel>

        <nz-collapse-panel nzHeader="ISR" nzExpandedIcon="double-right">
          <form nz-form [formGroup]="infoForm">
            <nz-form-item>
              <nz-form-label [nzSm]="10" nzRequired>Techo Exento</nz-form-label>
              <nz-form-control [nzSm]="10">
                <input
                  nz-input
                  placeholder="Ingrese cantidad en lps"
                  type="number"
                  nzSize="default"
                  formControlName="techoExento_ISR"
                  min="0"
                />
              </nz-form-control>
              <td>
                <nz-switch
                  [(ngModel)]="switchValueTechoExento_ISR"
                  [nzCheckedChildren]="checkedTemplate"
                  [nzUnCheckedChildren]="unCheckedTemplate"
                  (ngModelChange)="enableTechoExento_ISR()"
                  [ngModelOptions]="{ standalone: true }"
                ></nz-switch>
                <ng-template #checkedTemplate
                  ><i nz-icon nzType="edit" nzTheme="outline"></i
                ></ng-template>
                <ng-template #unCheckedTemplate
                  ><i nz-icon nzType="check"></i
                ></ng-template>
              </td>
            </nz-form-item>

            <nz-form-item>
              <nz-form-label [nzSm]="10" nzRequired>Techo 15%</nz-form-label>
              <nz-form-control [nzSm]="10">
                <input
                  nz-input
                  placeholder="Ingrese cantidad en lps"
                  type="number"
                  nzSize="default"
                  formControlName="techo15_ISR"
                  min="0"
                />
              </nz-form-control>
              <td>
                <nz-switch
                  [(ngModel)]="switchValueTecho15_ISR"
                  [nzCheckedChildren]="checkedTemplate"
                  [nzUnCheckedChildren]="unCheckedTemplate"
                  (ngModelChange)="enableTecho15_ISR()"
                  [ngModelOptions]="{ standalone: true }"
                ></nz-switch>
                <ng-template #checkedTemplate
                  ><i nz-icon nzType="edit" nzTheme="outline"></i
                ></ng-template>
                <ng-template #unCheckedTemplate
                  ><i nz-icon nzType="check"></i
                ></ng-template>
              </td>
            </nz-form-item>

            <nz-form-item>
              <nz-form-label [nzSm]="10" nzRequired>Techo 20%</nz-form-label>
              <nz-form-control [nzSm]="10">
                <input
                  nz-input
                  placeholder="Ingrese cantidad en lps"
                  type="number"
                  nzSize="default"
                  formControlName="techo20_ISR"
                  min="0"
                />
              </nz-form-control>
              <td>
                <nz-switch
                  [(ngModel)]="switchValueTecho20_ISR"
                  [nzCheckedChildren]="checkedTemplate"
                  [nzUnCheckedChildren]="unCheckedTemplate"
                  (ngModelChange)="enableTecho20_ISR()"
                  [ngModelOptions]="{ standalone: true }"
                ></nz-switch>
                <ng-template #checkedTemplate
                  ><i nz-icon nzType="edit" nzTheme="outline"></i
                ></ng-template>
                <ng-template #unCheckedTemplate
                  ><i nz-icon nzType="check"></i
                ></ng-template>
              </td>
            </nz-form-item>

            <nz-form-item>
              <nz-form-label [nzSm]="10" nzRequired
                >Monto Servicios Médicos</nz-form-label
              >
              <nz-form-control [nzSm]="10">
                <input
                  nz-input
                  placeholder="Ingrese cantidad en lps"
                  type="number"
                  nzSize="default"
                  formControlName="montoServicioMedico_ISR"
                  min="0"
                />
              </nz-form-control>
              <td>
                <nz-switch
                  [(ngModel)]="switchValueMontoServicioMedico_ISR"
                  [nzCheckedChildren]="checkedTemplate"
                  [nzUnCheckedChildren]="unCheckedTemplate"
                  (ngModelChange)="enableMontoServicioMedico_ISR()"
                  [ngModelOptions]="{ standalone: true }"
                ></nz-switch>
                <ng-template #checkedTemplate
                  ><i nz-icon nzType="edit" nzTheme="outline"></i
                ></ng-template>
                <ng-template #unCheckedTemplate
                  ><i nz-icon nzType="check"></i
                ></ng-template>
              </td>
            </nz-form-item>
          </form>
        </nz-collapse-panel>

        <nz-collapse-panel nzHeader="AFPC" nzExpandedIcon="double-right">
          <form nz-form [formGroup]="infoForm">
            <nz-form-item>
              <nz-form-label [nzSm]="10" nzRequired
                >Valor correspondiente</nz-form-label
              >
              <nz-form-control [nzSm]="10">
                <input
                  nz-input
                  placeholder="Ingrese cantidad en lps"
                  type="number"
                  nzSize="default"
                  formControlName="techoIVM_RAP"
                  min="0"
                />
              </nz-form-control>
              <td>
                <nz-switch
                  [(ngModel)]="switchValueTechoIVM_RAP"
                  [nzCheckedChildren]="checkedTemplate"
                  [nzUnCheckedChildren]="unCheckedTemplate"
                  (ngModelChange)="enableTechoIVM_RAP()"
                  [ngModelOptions]="{ standalone: true }"
                ></nz-switch>
                <ng-template #checkedTemplate
                  ><i nz-icon nzType="edit" nzTheme="outline"></i
                ></ng-template>
                <ng-template #unCheckedTemplate
                  ><i nz-icon nzType="check"></i
                ></ng-template>
              </td>
            </nz-form-item>

            <nz-form-item>
              <nz-form-label [nzSm]="10" nzRequired
                >% de Contribución</nz-form-label
              >
              <nz-form-control [nzSm]="10">
                <input
                  nz-input
                  placeholder="Ingrese valor"
                  type="number"
                  nzSize="default"
                  formControlName="porcentajeContribucionTrabajador_RAP"
                  min="0"
                />
              </nz-form-control>
              <td>
                <nz-switch
                  [(ngModel)]="switchValuePorcentajeIVM_RAP"
                  [nzCheckedChildren]="checkedTemplate"
                  [nzUnCheckedChildren]="unCheckedTemplate"
                  (ngModelChange)="enablePorcentajeIVM_RAP()"
                  [ngModelOptions]="{ standalone: true }"
                ></nz-switch>
                <ng-template #checkedTemplate
                  ><i nz-icon nzType="edit" nzTheme="outline"></i
                ></ng-template>
                <ng-template #unCheckedTemplate
                  ><i nz-icon nzType="check"></i
                ></ng-template>
              </td>
            </nz-form-item>
          </form>
        </nz-collapse-panel>
      </nz-collapse>
    </ng-container>
  </nz-modal>
  <div [(ngModel)]="diferencia" ngDefaultControl *ngIf="diferencia > 8">
    <!-- AQUI ESTOY -->
    <nz-modal
      [nzStyle]="{ top: '20px' }"
      nzClosable="false"
      [(nzVisible)]="isMainVisible"
      nzTitle="Calculando Ingresos | {{
        this.nombreCompleto
      }} — Valor Dia: Lps. {{ this.salarioMinimoPerDia.toFixed(2) }}"
      nzWidth="35%"
      (nzOnCancel)="handleCancel()"
      [nzFooter]="null"
    >
      <ng-container *nzModalContent>
        <div id="main_content" class="inner-content" style="overflow: hidden">
          <div class="card">
            <div class="card-body">
              <div>
                <h1 style="text-align: center">Control de Asistencia</h1>
                <form nz-form [formGroup]="resumenForm">
                  <nz-form-item>
                    <nz-form-label [nzSm]="8" [nzXs]="24">Ajuste</nz-form-label>
                    <nz-form-control [nzSm]="10" [nzXs]="24">
                      <input
                        nz-input
                        placeholder="Ingrese cantidad en lps"
                        type="number"
                        nzSize="default"
                        formControlName="ajuste"
                        maxlength="5"
                        min="0"
                        oninput="javascript: if (this.value.length > this.maxLength) this.value = '';"
                      />
                      <div class="form-text">(Opcional)</div>
                    </nz-form-control>
                  </nz-form-item>

                  <nz-form-item>
                    <td>
                      <div nz-row>
                        <div nz-col>
                          <label
                            nz-checkbox
                            [nzDisabled]="cboxAguinaldo"
                            [(ngModel)]="isCheckedAguinaldo"
                            (ngModelChange)="logAguinaldo($event)"
                            [ngModelOptions]="{ standalone: true }"
                          ></label>
                        </div>
                      </div>
                    </td>
                    <nz-form-label [nzSm]="6" [nzXs]="24"
                      >Aguinaldo</nz-form-label
                    >
                    <nz-form-control [nzSm]="8" [nzXs]="24">
                      <input
                        nz-input
                        formControlName="aguinaldo"
                        placeholder="0"
                        type="number"
                        min="0"
                        nzSize="default"
                      />
                      <div class="form-text">(Opcional)</div>
                    </nz-form-control>
                    <td>
                      <nz-switch
                        [(ngModel)]="switchValueAguinaldo"
                        [nzDisabled]="isDisabledAguinaldo"
                        [nzCheckedChildren]="checkedTemplate"
                        [nzUnCheckedChildren]="unCheckedTemplate"
                        (ngModelChange)="enableAguinaldo()"
                        [ngModelOptions]="{ standalone: true }"
                      ></nz-switch>
                      <ng-template #checkedTemplate
                        ><i nz-icon nzType="edit" nzTheme="outline"></i
                      ></ng-template>
                      <ng-template #unCheckedTemplate
                        ><i nz-icon nzType="check"></i
                      ></ng-template>
                    </td>
                  </nz-form-item>

                  <legend>Distribución</legend>
                  <nz-form-item>
                    <nz-form-label [nzSm]="8" [nzXs]="24" [nzNoColon]="true"
                      >Autorizado : {{ this.conpermiso }}
                    </nz-form-label>
                    <nz-form-control [nzSm]="10" [nzXs]="24">
                      <input
                        nz-input
                        placeholder="Ingrese cantidad de dias"
                        type="number"
                        nzSize="default"
                        formControlName="conpermiso"
                        maxlength="2"
                        min="0"
                        oninput="javascript: if (this.value.length > this.maxLength) this.value = '';"
                      />
                    </nz-form-control>
                  </nz-form-item>

                  <nz-form-item>
                    <nz-form-label [nzSm]="8" [nzXs]="24" [nzNoColon]="true"
                      >Faltas : {{ this.falta }}</nz-form-label
                    >
                    <nz-form-control [nzSm]="10" [nzXs]="24">
                      <input
                        nz-input
                        placeholder="Ingrese cantidad de dias"
                        type="number"
                        nzSize="default"
                        formControlName="faltas"
                        maxlength="2"
                        min="0"
                        oninput="javascript: if (this.value.length > this.maxLength) this.value = '';"
                      />
                    </nz-form-control>
                  </nz-form-item>

                  <nz-form-item>
                    <nz-form-label [nzSm]="8" [nzXs]="24" [nzNoColon]="true"
                      >Feriados : {{ this.feriado }}
                    </nz-form-label>
                    <nz-form-control [nzSm]="10" [nzXs]="24">
                      <input
                        nz-input
                        placeholder="Ingrese cantidad de dias"
                        type="number"
                        nzSize="default"
                        formControlName="feriados"
                        maxlength="2"
                        min="0"
                        oninput="javascript: if (this.value.length > this.maxLength) this.value = '';"
                      />
                    </nz-form-control>
                  </nz-form-item>

                  <nz-form-item>
                    <nz-form-label [nzSm]="8" [nzXs]="24" [nzNoColon]="true"
                      >Incapacidades Públicas :
                      {{ this.incapacidadpub }}</nz-form-label
                    >
                    <nz-form-control [nzSm]="10" [nzXs]="24">
                      <input
                        nz-input
                        placeholder="Ingrese cantidad de dias"
                        type="number"
                        nzSize="default"
                        formControlName="incapacidadpub"
                        maxlength="2"
                        min="0"
                        oninput="javascript: if (this.value.length > this.maxLength) this.value = '';"
                      />
                    </nz-form-control>
                  </nz-form-item>

                  <nz-form-item>
                    <nz-form-label [nzSm]="8" [nzXs]="24" [nzNoColon]="true"
                      >Incapacidades Privadas :
                      {{ this.incapacidadpriv }}</nz-form-label
                    >
                    <nz-form-control [nzSm]="10" [nzXs]="24">
                      <input
                        nz-input
                        placeholder="Ingrese cantidad de dias"
                        type="number"
                        nzSize="default"
                        formControlName="incapacidadpriv"
                        maxlength="2"
                        min="0"
                        oninput="javascript: if (this.value.length > this.maxLength) this.value = '';"
                      />
                    </nz-form-control>
                  </nz-form-item>

                  <nz-form-item>
                    <nz-form-label [nzSm]="8" [nzXs]="24" [nzNoColon]="true"
                      >Suspensiones : {{ this.suspension }}
                    </nz-form-label>
                    <nz-form-control [nzSm]="10" [nzXs]="24">
                      <input
                        nz-input
                        placeholder="Ingrese cantidad de dias"
                        type="number"
                        nzSize="default"
                        formControlName="suspensiones"
                        max="15"
                        maxlength="2"
                        min="0"
                        oninput="javascript: if (this.value.length > this.maxLength) this.value = '';"
                      />
                    </nz-form-control>
                  </nz-form-item>
                  <nz-form-item>
                    <nz-form-label [nzSm]="8" [nzXs]="24" [nzNoColon]="true"
                      >Vacaciones : {{ this.vacacion }}
                    </nz-form-label>
                    <nz-form-control [nzSm]="10" [nzXs]="24">
                      <input
                        nz-input
                        placeholder="Ingrese cantidad de dias"
                        type="number"
                        nzSize="default"
                        formControlName="vacaciones"
                        maxlength="2"
                        min="0"
                        oninput="javascript: if (this.value.length > this.maxLength) this.value = '';"
                      />
                    </nz-form-control>
                  </nz-form-item>
                </form>
                <table style="margin: 0 auto">
                  <tr>
                    <td>
                      <button
                        nz-button
                        nzType="primary"
                        nzSize="large"
                        id="btnCalculos"
                        (click)="ingresosTotal()"
                        data-placement="bottom"
                        title="Calcular Ingresos"
                      >
                        <i
                          nz-icon
                          class="center"
                          nzType="calculator"
                          nzTheme="fill"
                        ></i>
                      </button>
                    </td>
                    <td>
                      <button
                        type="button"
                        class="btn btn-info"
                        (click)="limpiar()"
                        data-placement="bottom"
                        title="Limpiar"
                      >
                        <i class="bi bi-stars"></i>
                      </button>
                    </td>
                    <td>
                      <button
                        type="button"
                        class="btn btn-danger"
                        (click)="handleCancel()"
                        data-placement="bottom"
                        title="Cancelar"
                      >
                        <i class="bi bi-x-lg"></i>
                      </button>
                    </td>
                  </tr>
                </table>
              </div>
            </div>
            <h2 style="text-align: center" class="h2">
              Sueldo Bruto: Lps. {{ this.sueldoString }}
            </h2>
          </div>
          <nz-modal
            [(nzVisible)]="isVisibleDivPrimario"
            [nzFooter]="null"
            nzTitle="Definir total de la Incapacidad Pública"
            nzClosable="false"
            nzCentered
          >
            <ng-container *nzModalContent>
              <div id="divPrincipal" class="card">
                <div class="card-body">
                  <div>
                    <h1 style="text-align: center">Información Adicional</h1>
                    <form [formGroup]="extraForm">
                      <tr>
                        <nz-form-label [nzSm]="24" [nzXs]="24" nzRequired
                          >Valor de la incapacidad pública
                        </nz-form-label>
                        <td>
                          <input
                            formControlName="incpub"
                            nz-input
                            placeholder="0"
                            type="number"
                            min="0"
                            nzSize="default"
                          />
                        </td>
                        <td>
                          <button
                            type="button"
                            class="btn btn-primary"
                            [disabled]="extraForm.invalid"
                            (click)="incapacidadPub()"
                          >
                            <i class="bi bi-check-lg"></i>
                          </button>
                        </td>
                      </tr>
                    </form>
                  </div>
                </div>
              </div>
            </ng-container>
          </nz-modal>
        </div>
      </ng-container>
    </nz-modal>
    <nz-modal
      [(nzVisible)]="isVisibleDeduccion"
      nzTitle="Calculando Deducciones | {{
        this.nombreCompleto
      }} — Salario Bruto: Lps. {{ this.sueldoAlDeducirString }}"
      (nzOnCancel)="handleMainDeduccionCancel()"
      nzClosable="false"
      [nzFooter]="null"
    >
      <ng-container *nzModalContent>
        <div id="main_content" class="inner-content" style="overflow: hidden">
          <td>
            <div class="card">
              <div class="card-body">
                <div>
                  <h1 style="text-align: center">Información Requerida</h1>
                  <div style="border-bottom: 1px solid rgb(233, 233, 233)">
                    <tr>
                      <td>
                        <div nz-row>
                          <div nz-col>
                            <label
                              nz-checkbox
                              [nzDisabled]="cboxAll"
                              [(ngModel)]="allChecked"
                              (ngModelChange)="onAllChecked($event)"
                              [nzIndeterminate]="indeterminate"
                            ></label>
                          </div>
                        </div>
                      </td>
                      <nz-form-label [nzNoColon]="true" [nzSm]="24" [nzXs]="24"
                        >Marcar Todos</nz-form-label
                      >
                    </tr>
                  </div>
                  <form nz-form [formGroup]="automaticForm">
                    <p></p>
                    <tr>
                      <td>
                        <div nz-row>
                          <div nz-col>
                            <label
                              nz-checkbox
                              [nzDisabled]="cboxIHSS"
                              [(ngModel)]="isCheckedIHSS"
                              (ngModelChange)="logIHSS($event)"
                              [ngModelOptions]="{ standalone: true }"
                            ></label>
                          </div>
                        </div>
                      </td>
                      <td>
                        <nz-form-label [nzSm]="24" [nzXs]="24"
                          >IHSS</nz-form-label
                        >
                      </td>
                      <td>
                        <input
                          formControlName="ihss"
                          nz-input
                          placeholder="0"
                          type="number"
                          min="0"
                          nzSize="default"
                        />
                      </td>
                      <td style="padding-left: 0px">
                        <nz-switch
                          [(ngModel)]="switchValueIHSS"
                          [nzCheckedChildren]="checkedTemplate"
                          [nzUnCheckedChildren]="unCheckedTemplate"
                          (ngModelChange)="enableIHSS()"
                          [nzDisabled]="isDisabledIHSS"
                          [ngModelOptions]="{ standalone: true }"
                        ></nz-switch>
                        <ng-template #checkedTemplate
                          ><i nz-icon nzType="edit" nzTheme="outline"></i
                        ></ng-template>
                        <ng-template #unCheckedTemplate
                          ><i nz-icon nzType="check"></i
                        ></ng-template>
                      </td>
                    </tr>

                    <tr>
                      <td>
                        <div nz-row>
                          <div nz-col>
                            <label
                              nz-checkbox
                              [nzDisabled]="cboxISR"
                              [(ngModel)]="isCheckedISR"
                              (ngModelChange)="logISR($event)"
                              [ngModelOptions]="{ standalone: true }"
                            ></label>
                          </div>
                        </div>
                      </td>
                      <td>
                        <nz-form-label [nzSm]="24" [nzXs]="24"
                          >ISR</nz-form-label
                        >
                      </td>
                      <td>
                        <input
                          formControlName="isr"
                          nz-input
                          placeholder="0"
                          type="number"
                          min="0"
                          nzSize="default"
                        />
                      </td>
                      <td style="padding-left: 0px">
                        <nz-switch
                          [(ngModel)]="switchValueISR"
                          [nzCheckedChildren]="checkedTemplate"
                          [nzUnCheckedChildren]="unCheckedTemplate"
                          (ngModelChange)="enableISR()"
                          [nzDisabled]="isDisabledISR"
                          [ngModelOptions]="{ standalone: true }"
                        ></nz-switch>
                        <ng-template #checkedTemplate
                          ><i nz-icon nzType="edit" nzTheme="outline"></i
                        ></ng-template>
                        <ng-template #unCheckedTemplate
                          ><i nz-icon nzType="check"></i
                        ></ng-template>
                      </td>
                    </tr>

                    <tr>
                      <td>
                        <div nz-row>
                          <div nz-col>
                            <label
                              nz-checkbox
                              [nzDisabled]="cboxAFPC"
                              [(ngModel)]="isCheckedAFPC"
                              (ngModelChange)="logAFPC($event)"
                              [ngModelOptions]="{ standalone: true }"
                            ></label>
                          </div>
                        </div>
                      </td>
                      <td>
                        <nz-form-label [nzSm]="24" [nzXs]="24"
                          >AFPC</nz-form-label
                        >
                      </td>
                      <td>
                        <input
                          formControlName="afpc"
                          nz-input
                          placeholder="0"
                          type="number"
                          min="0"
                          nzSize="default"
                        />
                      </td>
                      <td style="padding-left: 0px">
                        <nz-switch
                          [(ngModel)]="switchValueAFPC"
                          [nzCheckedChildren]="checkedTemplate"
                          [nzUnCheckedChildren]="unCheckedTemplate"
                          (ngModelChange)="enableAFPC()"
                          [nzDisabled]="isDisableAFPC"
                          [ngModelOptions]="{ standalone: true }"
                        ></nz-switch>
                        <ng-template #checkedTemplate
                          ><i nz-icon nzType="edit" nzTheme="outline"></i
                        ></ng-template>
                        <ng-template #unCheckedTemplate
                          ><i nz-icon nzType="check"></i
                        ></ng-template>
                      </td>
                    </tr>
                  </form>

                  <form nz-form [formGroup]="deduccionFormQuincenal">
                    <tr>
                      <td>
                        <div nz-row>
                          <div nz-col>
                            <label
                              nz-checkbox
                              [nzDisabled]="cboxImpVecinal"
                              [(ngModel)]="isCheckedImpVecinal"
                              (ngModelChange)="logImpVecinal($event)"
                              [ngModelOptions]="{ standalone: true }"
                            ></label>
                          </div>
                        </div>
                      </td>
                      <td>
                        <nz-form-label [nzSm]="24" [nzXs]="24"
                          >Impuesto Vecinal</nz-form-label
                        >
                      </td>
                      <td>
                        <input
                          formControlName="impvecinal"
                          nz-input
                          placeholder="0"
                          type="number"
                          min="0"
                          nzSize="default"
                        />
                      </td>
                    </tr>

                    <tr>
                      <td>
                        <div nz-row>
                          <div nz-col>
                            <label
                              nz-checkbox
                              [nzDisabled]="cboxPrestamoRap"
                              [(ngModel)]="isCheckedPrestamoRap"
                              (ngModelChange)="logPrestamoRap($event)"
                              [ngModelOptions]="{ standalone: true }"
                            ></label>
                          </div>
                        </div>
                      </td>
                      <td>
                        <nz-form-label [nzSm]="24" [nzXs]="24"
                          >Préstamo RAP</nz-form-label
                        >
                      </td>
                      <td>
                        <input
                          formControlName="prestamorap"
                          nz-input
                          placeholder="0"
                          type="number"
                          min="0"
                          nzSize="default"
                        />
                      </td>
                    </tr>

                    <tr>
                      <td>
                        <div nz-row>
                          <div nz-col>
                            <label
                              nz-checkbox
                              [nzDisabled]="cboxAnticipo"
                              [(ngModel)]="isCheckedAnticipo"
                              (ngModelChange)="logAnticipo($event)"
                              [ngModelOptions]="{ standalone: true }"
                            ></label>
                          </div>
                        </div>
                      </td>
                      <td>
                        <nz-form-label [nzSm]="24" [nzXs]="24"
                          >Anticipo</nz-form-label
                        >
                      </td>
                      <td>
                        <input
                          formControlName="anticipo"
                          nz-input
                          placeholder="0"
                          type="number"
                          min="0"
                          nzSize="default"
                        />
                      </td>
                    </tr>

                    <tr>
                      <td>
                        <div nz-row>
                          <div nz-col>
                            <label
                              nz-checkbox
                              [nzDisabled]="cboxCTAEmpresa"
                              [(ngModel)]="isCheckedCTAEmpresa"
                              (ngModelChange)="logCTA($event)"
                              [ngModelOptions]="{ standalone: true }"
                            ></label>
                          </div>
                        </div>
                      </td>
                      <td>
                        <nz-form-label
                          [nzSm]="24"
                          [nzXs]="24"
                          nzTooltipTitle="Valor a deducir por actos negligentes durante horas laborales"
                          >CTA. Empresa
                        </nz-form-label>
                      </td>
                      <td>
                        <input
                          formControlName="ctaempresa"
                          nz-input
                          placeholder="0"
                          type="number"
                          min="0"
                          nzSize="default"
                        />
                      </td>
                    </tr>

                    <tr>
                      <td>
                        <div nz-row>
                          <div nz-col>
                            <label
                              nz-checkbox
                              [nzDisabled]="cboxViaticos"
                              [(ngModel)]="isCheckedTransporte"
                              (ngModelChange)="logTransporte($event)"
                              [ngModelOptions]="{ standalone: true }"
                            ></label>
                          </div>
                        </div>
                      </td>
                      <td>
                        <nz-form-label [nzSm]="24" [nzXs]="24"
                          >Transporte</nz-form-label
                        >
                      </td>
                      <td>
                        <input
                          formControlName="transporte"
                          nz-input
                          placeholder="0"
                          type="number"
                          min="0"
                          nzSize="default"
                        />
                      </td>
                    </tr>

                    <tr>
                      <td>
                        <div nz-row>
                          <div nz-col>
                            <label
                              nz-checkbox
                              [nzDisabled]="cboxAjuste"
                              [(ngModel)]="isCheckedAjuste"
                              (ngModelChange)="logAjuste($event)"
                              [ngModelOptions]="{ standalone: true }"
                            ></label>
                          </div>
                        </div>
                      </td>
                      <td>
                        <nz-form-label [nzSm]="24" [nzXs]="24"
                          >Ajuste</nz-form-label
                        >
                      </td>
                      <td>
                        <input
                          formControlName="ajuste"
                          nz-input
                          placeholder="0"
                          type="number"
                          min="0"
                          nzSize="default"
                        />
                      </td>
                    </tr>

                    <tr>
                      <td>
                        <div nz-row>
                          <div nz-col>
                            <label
                              nz-checkbox
                              [nzDisabled]="cboxOtros"
                              [(ngModel)]="isCheckedVarios"
                              (ngModelChange)="logVarios($event)"
                              [ngModelOptions]="{ standalone: true }"
                            ></label>
                          </div>
                        </div>
                      </td>
                      <td>
                        <nz-form-label
                          [nzSm]="24"
                          [nzXs]="24"
                          nzTooltipTitle="Valor a deducir en concepto de herramientas, vestimenta, examenes medicos etc."
                          >Otros
                        </nz-form-label>
                      </td>
                      <td>
                        <input
                          formControlName="varios"
                          nz-input
                          placeholder="0"
                          type="number"
                          min="0"
                          nzSize="default"
                        />
                      </td>
                    </tr>
                  </form>

                  <p></p>

                  <table style="margin: 0 auto">
                    <tr>
                      <td>
                        <button
                          nz-button
                          nzType="primary"
                          nzSize="large"
                          id="btnCalcularDeduccion"
                          [disabled]="!deduccionFormQuincenal.valid"
                          (click)="deduccionTotal()"
                          data-placement="bottom"
                          title="Calcular Deducciones"
                        >
                          <i
                            nz-icon
                            class="center"
                            nzType="calculator"
                            nzTheme="fill"
                          ></i>
                        </button>
                      </td>
                      <td>
                        <button
                          type="button"
                          class="btn btn-info"
                          (click)="limpiarMainDeduccion()"
                          data-placement="bottom"
                          title="Limpiar"
                        >
                          <i class="bi bi-stars"></i>
                        </button>
                      </td>
                      <td>
                        <button
                          type="button"
                          class="btn btn-danger"
                          (click)="handleMainDeduccionCancel()"
                          data-placement="bottom"
                          title="Cancelar"
                        >
                          <i class="bi bi-x-lg"></i>
                        </button>
                      </td>
                    </tr>
                  </table>
                </div>
              </div>
              <h2 style="text-align: center" class="h2">
                Total Deducciones: Lps. {{ this.deduccionString }}
              </h2>
            </div>
          </td>
        </div>
      </ng-container>
    </nz-modal>
    <!-- AQUI TABLAS -->
    <nz-table id="nominaFinal" nzTemplateMode hidden>
      <thead>
        <tr>
          <th colspan="20">{{ this.planidescrip | uppercase }}</th>
        </tr>
        <tr>
          <th colspan="20">{{ this.planitipo | uppercase }}</th>
        </tr>
        <tr *ngIf="this.totalAguinaldo <= 0">
          <th colspan="20">FECHA: {{ this.fecha | uppercase }}</th>
        </tr>
        <tr *ngIf="this.totalAguinaldo > 0">
          <th colspan="20">
            {{ this.mesAguinaldo | uppercase }} MES AÑO
            {{ this.yearAguinaldo | uppercase }}
          </th>
        </tr>
        <tr>
          <th rowspan="4">EMPLEADO</th>
          <th rowspan="4">SUELDO MENSUAL</th>
          <th rowspan="4">SUELDO QUINCENAL</th>
          <th colspan="5" rowspan="1">INGRESOS</th>
          <th colspan="10" rowspan="1">DEDUCCIONES</th>
          <th rowspan="4">TOTAL DEDUCCION</th>
          <th rowspan="4">TOTAL A PAGAR</th>
        </tr>
        <tr>
          <th rowspan="3">AGUINALDO</th>
          <th rowspan="3">FERIADO</th>
          <th rowspan="3">INCAPACIDAD</th>
          <th rowspan="3">VACACIONES</th>
          <th rowspan="3">AJUSTE</th>
          <th rowspan="3">IHSS</th>
          <th rowspan="3">ISRENTA</th>
          <th rowspan="3">AFPC</th>
          <th rowspan="3">IMP. VECINAL</th>
          <th rowspan="3">PRESTAMO RAP</th>
          <th rowspan="3">ANTICIPO</th>
          <th rowspan="3">CTA. EMPRESA</th>
          <th rowspan="3">VIATICOS</th>
          <th rowspan="3">AJUSTE</th>
          <th rowspan="3">OTROS</th>
        </tr>
        <tr></tr>
        <tr></tr>
      </thead>
      <tbody>
        <tr *ngFor="let data of listNominaFinal">
          <td>{{ data.nombres }} {{ data.apellidos }}</td>
          <td>{{ data.salarioBase }}</td>
          <td>
            {{ data.ingresoBruto }}
          </td>
          <td>{{ data.aguinaldo }}</td>
          <td>{{ data.feriado }}</td>
          <td>{{ data.incapacidad }}</td>
          <td>{{ data.vacacion }}</td>
          <td>{{ data.ajusteP }}</td>
          <td>{{ data.ihss }}</td>
          <td>{{ data.isr }}</td>
          <td>{{ data.afpc }}</td>
          <td>{{ data.impvecinal }}</td>
          <td>{{ data.prestamorap }}</td>
          <td>{{ data.anticipo }}</td>
          <td>{{ data.cta }}</td>
          <td>{{ data.viaticos }}</td>
          <td>{{ data.ajuste }}</td>
          <td>{{ data.otros }}</td>
          <td>{{ data.deducciones }}</td>
          <td>{{ data.totalPagar }}</td>
        </tr>
      </tbody>
    </nz-table>
    <nz-table id="finalv2" nzTemplateMode hidden>
      <tbody>
        <td class="mix">
          <nz-table
            nzSize="small"
            nzBordered
            style="display: none"
            nzTemplateMode
            *ngFor="let data of listComprobantes; let i = index"
          >
            <thead *ngIf="i % 2 === 0">
              <tr>
                <th>:</th>
                <th>:</th>
                <th>:</th>
                <th colspan="8">
                  ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
                </th>
                <th>:</th>
              </tr>
              <tr>
                <th>:</th>
                <th>:</th>
                <th>:</th>
                <th colspan="8">{{ this.planidescrip | uppercase }}</th>
                <th>:</th>
              </tr>
              <tr *ngIf="this.totalAguinaldo > 0">
                <th>:</th>
                <th>:</th>
                <th>:</th>
                <th colspan="8">
                  COMPROBANTE DE PAGO DE
                  {{ this.mesAguinaldo | uppercase }} MES AÑO
                  {{ this.yearAguinaldo | uppercase }}
                </th>
                <th>:</th>
              </tr>
              <tr *ngIf="this.totalAguinaldo <= 0">
                <th>:</th>
                <th>:</th>
                <th>:</th>
                <th colspan="8">COMPROBANTE DE PAGO DE PLANILLA QUINCENAL</th>
                <th>:</th>
              </tr>
              <tr *ngIf="this.totalAguinaldo <= 0">
                <th>:</th>
                <th>:</th>
                <th>:</th>
                <th colspan="8">FECHA: {{ this.fecha | uppercase }}</th>
                <th>:</th>
              </tr>
              <tr>
                <th>:</th>
                <th>:</th>
                <th>:</th>
                <th colspan="8">
                  NOMBRE: {{ data.nombres | uppercase }}
                  {{ data.apellidos | uppercase }}
                </th>
                <th>:</th>
              </tr>
              <tr>
                <th>:</th>
                <th>:</th>
                <th>:</th>
                <th colspan="8">
                  ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
                </th>
                <th>:</th>
              </tr>
              <tr>
                <th>:</th>
                <th>:</th>
                <th>:</th>
                <th colspan="2">DESCRIPCION</th>
                <th colspan="2">DEVENGADO</th>
                <th colspan="2">DEDUCIDO</th>
                <th colspan="2">PAGADO</th>
                <th>:</th>
              </tr>
              <tr>
                <th>:</th>
                <th>:</th>
                <th>:</th>
                <th colspan="8">
                  ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
                </th>
                <th>:</th>
              </tr>
            </thead>
            <tbody *ngIf="i % 2 === 0">
              <tr *ngIf="this.totalAguinaldo <= 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">SALARIO NORMAL</td>
                <td colspan="2">{{ data.ingresoBruto | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="data.aguinaldo > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">{{ this.mesAguinaldo | uppercase }}</td>
                <td colspan="2">{{ data.aguinaldo | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="data.feriado > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">FERIADO</td>
                <td colspan="2">{{ data.feriado | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="data.incapacidad > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">INCAPACIDAD</td>
                <td colspan="2">{{ data.incapacidad | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="data.vacacion > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">VACACION</td>
                <td colspan="2">{{ data.vacacion | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="data.ajusteP > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">(+) AJUSTE</td>
                <td colspan="2">{{ data.ajusteP | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="data.ihss > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">IHSS</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.ihss | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="data.isr > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">RETENCION ISRENTA {{ this.yearAguinaldo }}</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.isr | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="data.afpc > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">AFPC</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.afpc | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="data.impvecinal > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">IMP. PER MUNI {{ this.yearAguinaldo }}</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.impvecinal | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="data.prestamorap > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">PRESTAMO RAP</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.prestamorap | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="data.anticipo > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">(-) ANTICIPO</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.anticipo | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="data.cta > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">CTA. EMPRESA</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.cta | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="data.viaticos > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">TRANSPORTE</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.viaticos | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="data.ajuste > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">(-) AJUSTE</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.ajuste | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="data.otros > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">OTROS</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.otros | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr>
                <th>:</th>
                <th>:</th>
                <th>:</th>
                <th colspan="8">
                  ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
                </th>
                <th>:</th>
              </tr>
              <tr *ngIf="data.totalPagar > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">TOTALES</td>
                <td colspan="2">{{ data.ingresos | currency : "LPS " }}</td>
                <td colspan="2">{{ data.deducciones | currency : "LPS " }}</td>
                <td colspan="2">{{ data.totalPagar | currency : "LPS " }}</td>
                <td>:</td>
              </tr>
              <tr>
                <th>:</th>
                <th>:</th>
                <th>:</th>
                <th colspan="8">
                  ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
                </th>
                <th>:</th>
              </tr>
              <tr *ngIf="data.feriado > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">DIAS FERIADO</td>
                <td colspan="2">{{ data.diasferiado }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="data.incapacidad > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">DIAS INCAPACIDAD</td>
                <td colspan="2">{{ data.diasincapacidad }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="data.vacacion > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">DIAS VACACIONES</td>
                <td colspan="2">{{ data.diasvacacion }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr>
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="3">DIAS FALTADOS AUTORIZADOS</td>
                <td colspan="1">{{ data.diasautorizados }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr>
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="3">DIAS FALTADOS NO AUTORIZADOS</td>
                <td colspan="1">{{ data.diasnoautorizados }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr>
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="3">DIAS POR SUSPENSION DE LABORES</td>
                <td colspan="1">{{ data.diassuspension }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr>
                <th>:</th>
                <th>:</th>
                <th>:</th>
                <th colspan="8">
                  ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
                </th>
                <th>:</th>
              </tr>
              <tr>
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="8"></td>
                <td>:</td>
              </tr>
              <tr>
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="6">
                  RECIBI
                  CONFORME:_________________________________________________.
                </td>
                <td colspan="2">{{ data.totalPagar | currency : "LPS " }}</td>
                <td>:</td>
              </tr>
              <tr>
                <th>:</th>
                <th>:</th>
                <th>:</th>
                <th colspan="8">
                  ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
                </th>
                <th>:</th>
              </tr>
              <tr></tr>
            </tbody>
          </nz-table>
        </td>
      </tbody>
    </nz-table>
    <nz-table id="final" nzTemplateMode hidden>
      <tbody>
        <td class="mix">
          <nz-table
            nzSize="small"
            nzBordered
            style="display: none"
            nzTemplateMode
            *ngFor="let data of listComprobantes; let i = index"
          >
            <thead *ngIf="i % 2 === 1">
              <tr>
                <th>:</th>
                <th colspan="8">
                  ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
                </th>
              </tr>
              <tr>
                <th>:</th>
                <th colspan="8">{{ this.planidescrip | uppercase }}</th>
              </tr>
              <tr *ngIf="this.totalAguinaldo > 0">
                <th>:</th>
                <th colspan="8">
                  COMPROBANTE DE PAGO DE
                  {{ this.mesAguinaldo | uppercase }} MES AÑO
                  {{ this.yearAguinaldo | uppercase }}
                </th>
              </tr>
              <tr *ngIf="this.totalAguinaldo <= 0">
                <th>:</th>
                <th colspan="8">COMPROBANTE DE PAGO DE PLANILLA QUINCENAL</th>
              </tr>
              <tr *ngIf="this.totalAguinaldo <= 0">
                <th>:</th>
                <th colspan="8">FECHA: {{ this.fecha | uppercase }}</th>
              </tr>
              <tr>
                <th>:</th>
                <th colspan="8">
                  NOMBRE: {{ data.nombres | uppercase }}
                  {{ data.apellidos | uppercase }}
                </th>
              </tr>
              <tr>
                <th>:</th>
                <th colspan="8">
                  ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
                </th>
              </tr>
              <tr>
                <th>:</th>
                <th colspan="2">DESCRIPCION</th>
                <th colspan="2">DEVENGADO</th>
                <th colspan="2">DEDUCIDO</th>
                <th colspan="2">PAGADO</th>
              </tr>
              <tr>
                <th>:</th>
                <th colspan="8">
                  ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
                </th>
              </tr>
            </thead>
            <tbody *ngIf="i % 2 === 1">
              <tr *ngIf="this.totalAguinaldo <= 0">
                <td>:</td>
                <td colspan="2">SALARIO NORMAL</td>
                <td colspan="2">{{ data.ingresoBruto | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="data.aguinaldo > 0">
                <td>:</td>
                <td colspan="2">{{ this.mesAguinaldo | uppercase }}</td>
                <td colspan="2">{{ data.aguinaldo | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="data.feriado > 0">
                <td>:</td>
                <td colspan="2">FERIADO</td>
                <td colspan="2">{{ data.feriado | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="data.incapacidad > 0">
                <td>:</td>
                <td colspan="2">INCAPACIDAD</td>
                <td colspan="2">{{ data.incapacidad | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="data.vacacion > 0">
                <td>:</td>
                <td colspan="2">VACACION</td>
                <td colspan="2">{{ data.vacacion | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="data.ajusteP > 0">
                <td>:</td>
                <td colspan="2">(+) AJUSTE</td>
                <td colspan="2">{{ data.ajusteP | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="data.ihss > 0">
                <td>:</td>
                <td colspan="2">IHSS</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.ihss | currency : "LPS " }}</td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="data.isr > 0">
                <td>:</td>
                <td colspan="2">RETENCION ISRENTA {{ this.yearAguinaldo }}</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.isr | currency : "LPS " }}</td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="data.afpc > 0">
                <td>:</td>
                <td colspan="2">AFPC</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.afpc | currency : "LPS " }}</td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="data.impvecinal > 0">
                <td>:</td>
                <td colspan="2">IMP. PER MUNI {{ this.yearAguinaldo }}</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.impvecinal | currency : "LPS " }}</td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="data.prestamorap > 0">
                <td>:</td>
                <td colspan="2">PRESTAMO RAP</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.prestamorap | currency : "LPS " }}</td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="data.anticipo > 0">
                <td>:</td>
                <td colspan="2">(-) ANTICIPO</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.anticipo | currency : "LPS " }}</td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="data.cta > 0">
                <td>:</td>
                <td colspan="2">CTA. EMPRESA</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.cta | currency : "LPS " }}</td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="data.viaticos > 0">
                <td>:</td>
                <td colspan="2">TRANSPORTE</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.viaticos | currency : "LPS " }}</td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="data.ajuste > 0">
                <td>:</td>
                <td colspan="2">(-) AJUSTE</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.ajuste | currency : "LPS " }}</td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="data.otros > 0">
                <td>:</td>
                <td colspan="2">OTROS</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.otros | currency : "LPS " }}</td>
                <td colspan="2"></td>
              </tr>
              <tr>
                <th>:</th>
                <th colspan="8">
                  ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
                </th>
              </tr>
              <tr *ngIf="data.totalPagar > 0">
                <td>:</td>
                <td colspan="2">TOTALES</td>
                <td colspan="2">{{ data.ingresos | currency : "LPS " }}</td>
                <td colspan="2">{{ data.deducciones | currency : "LPS " }}</td>
                <td colspan="2">{{ data.totalPagar | currency : "LPS " }}</td>
              </tr>
              <tr>
                <th>:</th>
                <th colspan="8">
                  ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
                </th>
              </tr>
              <tr *ngIf="data.feriado > 0">
                <td>:</td>
                <td colspan="2">DIAS FERIADO</td>
                <td colspan="2">{{ data.diasferiado }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="data.incapacidad > 0">
                <td>:</td>
                <td colspan="2">DIAS INCAPACIDAD</td>
                <td colspan="2">{{ data.diasincapacidad }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="data.vacacion > 0">
                <td>:</td>
                <td colspan="2">DIAS VACACIONES</td>
                <td colspan="2">{{ data.diasvacacion }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
              </tr>
              <tr>
                <td>:</td>
                <td colspan="3">DIAS FALTADOS AUTORIZADOS</td>
                <td colspan="1">{{ data.diasautorizados }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
              </tr>
              <tr>
                <td>:</td>
                <td colspan="3">DIAS FALTADOS NO AUTORIZADOS</td>
                <td colspan="1">{{ data.diasnoautorizados }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
              </tr>
              <tr>
                <td>:</td>
                <td colspan="3">DIAS POR SUSPENSION DE LABORES</td>
                <td colspan="1">{{ data.diassuspension }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
              </tr>
              <tr>
                <td>:</td>
                <th colspan="8">
                  ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
                </th>
              </tr>
              <tr>
                <td>:</td>
              </tr>
              <tr>
                <td>:</td>
                <td colspan="6">
                  RECIBI
                  CONFORME:_________________________________________________.
                </td>
                <td colspan="2">{{ data.totalPagar | currency : "LPS " }}</td>
              </tr>
              <tr>
                <th>:</th>
                <th colspan="8">
                  ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
                </th>
              </tr>
              <tr></tr>
            </tbody>
          </nz-table>
        </td>
      </tbody>
    </nz-table>
  </div>
  <div [(ngModel)]="diferencia" ngDefaultControl *ngIf="diferencia <= 7">
    <!-- MODALS -->
    <nz-modal
      [nzStyle]="{ top: '20px' }"
      [(nzVisible)]="isMainVisible"
      nzTitle="Calculando Ingresos | {{
        this.nombreCompleto
      }} — Salario: Lps. {{ this.salarioString }} — Valor Hora: {{
        this.recargo
      }}"
      (nzOnCancel)="handleMainCancel()"
      [nzFooter]="null"
      nzClosable="false"
      nzWidth="65%"
    >
      <ng-container *nzModalContent>
        <div id="main_content" class="inner-content" style="overflow: hidden">
          <tr>
            <td colspan="2">
              <div class="card">
                <div class="card-body">
                  <table style="width: 100%">
                    <tr>
                      <td style="width: 70%">
                        <nz-collapse>
                          <nz-collapse-panel
                            nzHeader="Leyenda de los Tipos de Observación 💡"
                          >
                            <div>
                              <tr>
                                <td class="mix">
                                  <label><strong>1. Autorizado:</strong></label>
                                </td>
                                <td class="mix">
                                  <p style="font-style: italic">
                                    Se completa la jornada con horas extras,
                                    sino hay suficientes se le hace promedio.
                                  </p>
                                </td>
                              </tr>
                              <tr>
                                <td class="mix">
                                  <label><strong>2. Feriado:</strong></label>
                                </td>
                                <td class="mix">
                                  <p style="font-style: italic">
                                    No se paga el dia, se remunera por separado.
                                  </p>
                                </td>
                              </tr>
                              <tr>
                                <td class="mix">
                                  <label
                                    ><strong
                                      >3. Incapacidad Pública:</strong
                                    ></label
                                  >
                                </td>
                                <td class="mix">
                                  <p style="font-style: italic">
                                    Al ser menos de 4 instancias se paga el
                                    valor del dia, caso contrario se ingresa
                                    valor a pagar.
                                  </p>
                                </td>
                              </tr>
                              <tr>
                                <td class="mix">
                                  <label
                                    ><strong
                                      >4. Incapacidad Parcial:</strong
                                    ></label
                                  >
                                </td>
                                <td class="mix">
                                  <p style="font-style: italic">
                                    Se paga por partes, debe especificar valor
                                    total y cantidad total de dias que abarcará.
                                  </p>
                                </td>
                              </tr>
                              <tr>
                                <td class="mix">
                                  <label
                                    ><strong
                                      >5. Incapacidad Privada:</strong
                                    ></label
                                  >
                                </td>
                                <td class="mix">
                                  <p style="font-style: italic">
                                    Es igual al dia Autorizado.
                                  </p>
                                </td>
                              </tr>
                              <tr>
                                <td class="mix">
                                  <label
                                    ><strong
                                      >6. Incapacidad / Vacacion
                                      Cancelada:</strong
                                    ></label
                                  >
                                </td>
                                <td class="mix">
                                  <p style="font-style: italic">
                                    No se paga el dia, representa que fue
                                    remunerada con anterioridad.
                                  </p>
                                </td>
                              </tr>
                              <tr>
                                <td class="mix">
                                  <label
                                    ><strong>7. Séptimo dia:</strong></label
                                  >
                                </td>
                                <td class="mix">
                                  <p style="font-style: italic">Libre.</p>
                                </td>
                              </tr>
                              <tr>
                                <td class="mix">
                                  <label><strong>8. Vacación:</strong></label>
                                </td>
                                <td class="mix">
                                  <p style="font-style: italic">
                                    Es igual al dia Feriado.
                                  </p>
                                </td>
                              </tr>
                              <tr>
                                <td class="mix">
                                  <label
                                    ><strong
                                      >9. Falta / Suspensión:</strong
                                    ></label
                                  >
                                </td>
                                <td class="mix">
                                  <p style="font-style: italic">
                                    No se paga el dia, además, no se le remunera
                                    el séptimo dia.
                                  </p>
                                </td>
                              </tr>
                              <tr>
                                <td class="mix">
                                  <label><strong>10. Renuncia:</strong></label>
                                </td>
                                <td class="mix">
                                  <p style="font-style: italic">
                                    No continua laborando, automáticamente se
                                    rellena los dias posteriores como tal.
                                  </p>
                                </td>
                              </tr>
                            </div>
                          </nz-collapse-panel>
                        </nz-collapse>
                      </td>
                      <td style="width: 30%" *ngIf="this.fileUploaded === true">
                        <button
                          nz-button
                          nzType="primary"
                          nzSize="large"
                          nzShape="round"
                          (click)="showArchivoById()"
                        >
                          <span
                            nz-icon
                            class="center"
                            nzType="eye"
                            nzTheme="outline"
                          ></span
                          >Ver Horario
                        </button>
                      </td>
                    </tr>
                  </table>
                </div>
              </div>
            </td>
          </tr>
          <tr>
            <td>
              <div class="card">
                <div class="card-body">
                  <div>
                    <h1 style="text-align: center">Control de asistencia</h1>
                    <form [formGroup]="horasForm">
                      <tr>
                        <nz-form-label [nzSm]="24" [nzXs]="24" nzRequired
                          >Lunes</nz-form-label
                        >
                        <td>
                          <input
                            type="time"
                            formControlName="luIControl"
                            (ngModelChange)="horasLuI($event)"
                            step="900"
                            class="form-control"
                          />
                          <div class="form-text">Hora de Entrada</div>
                        </td>
                        <td>
                          <input
                            type="time"
                            formControlName="luOControl"
                            (ngModelChange)="horasLuO($event)"
                            step="900"
                            class="form-control"
                          />
                          <div class="form-text">Hora de Salida</div>
                        </td>
                        <td>
                          <form [formGroup]="descriForm">
                            <select
                              class="form-select"
                              formControlName="lunesSelect"
                              id="lunesSelect"
                              (ngModelChange)="onChangeLunes()"
                            >
                              <option label="Ninguna" value=""></option>
                              <option value="notrabajaba">No Laboraba</option>
                              <optgroup label="Con Permiso">
                                <option value="conpermiso">Autorizado</option>
                                <option value="feriado">Feriado</option>
                                <option value="incapacidadpub">
                                  Incapacidad Pública
                                </option>
                                <option value="incapacidadpubparcial">
                                  Incapacidad Pública Parcial
                                </option>
                                <option value="incapacidadpriv">
                                  Incapacidad Privada
                                </option>
                                <option value="incapacidadcancelada">
                                  Incapacidad Cancelada
                                </option>
                                <option value="septimo">Séptimo dia</option>
                                <option value="vacacion">Vacación</option>
                                <option value="vacacioncancelada">
                                  Vacación Cancelada
                                </option>
                              </optgroup>
                              <optgroup label="Sin Permiso">
                                <option value="falta">Falta</option>
                                <option value="suspension">Suspensión</option>
                                <option value="abandono">Renuncia</option>
                              </optgroup>
                            </select>
                          </form>
                          <div class="form-text">Observación (opcional)</div>
                        </td>
                      </tr>
                      <tr>
                        <nz-form-label [nzSm]="24" [nzXs]="24" nzRequired
                          >Martes</nz-form-label
                        >
                        <td>
                          <input
                            type="time"
                            formControlName="maIControl"
                            (ngModelChange)="horasMaI($event)"
                            step="900"
                            class="form-control"
                          />
                          <div class="form-text">Hora de Entrada</div>
                        </td>
                        <td>
                          <input
                            type="time"
                            formControlName="maOControl"
                            (ngModelChange)="horasMaO($event)"
                            step="900"
                            class="form-control"
                          />
                          <div class="form-text">Hora de Salida</div>
                        </td>
                        <td>
                          <form [formGroup]="descriForm">
                            <select
                              class="form-select"
                              formControlName="martesSelect"
                              id="martesSelect"
                              (ngModelChange)="onChangeMartes()"
                            >
                              <option label="Ninguna" value=""></option>
                              <option value="notrabajaba">No Laboraba</option>
                              <optgroup label="Con Permiso">
                                <option value="conpermiso">Autorizado</option>
                                <option value="feriado">Feriado</option>
                                <option value="incapacidadpub">
                                  Incapacidad Pública
                                </option>
                                <option value="incapacidadpubparcial">
                                  Incapacidad Pública Parcial
                                </option>
                                <option value="incapacidadpriv">
                                  Incapacidad Privada
                                </option>
                                <option value="incapacidadcancelada">
                                  Incapacidad Cancelada
                                </option>
                                <option value="septimo">Séptimo dia</option>
                                <option value="vacacion">Vacación</option>
                                <option value="vacacioncancelada">
                                  Vacación Cancelada
                                </option>
                              </optgroup>
                              <optgroup label="Sin Permiso">
                                <option value="falta">Falta</option>
                                <option value="suspension">Suspensión</option>
                                <option value="abandono">Renuncia</option>
                              </optgroup>
                            </select>
                          </form>
                          <div class="form-text">Observación (opcional)</div>
                        </td>
                      </tr>
                      <tr>
                        <nz-form-label [nzSm]="24" [nzXs]="24" nzRequired
                          >Miércoles</nz-form-label
                        >
                        <td>
                          <input
                            type="time"
                            formControlName="miIControl"
                            (ngModelChange)="horasMiI($event)"
                            step="900"
                            class="form-control"
                          />
                          <div class="form-text">Hora de Entrada</div>
                        </td>
                        <td>
                          <input
                            type="time"
                            formControlName="miOControl"
                            (ngModelChange)="horasMiO($event)"
                            step="900"
                            class="form-control"
                          />
                          <div class="form-text">Hora de Salida</div>
                        </td>
                        <td>
                          <form [formGroup]="descriForm">
                            <select
                              class="form-select"
                              formControlName="miercolesSelect"
                              id="miercolesSelect"
                              (ngModelChange)="onChangeMiercoles()"
                            >
                              <option label="Ninguna" value=""></option>
                              <option value="notrabajaba">No Laboraba</option>
                              <optgroup label="Con Permiso">
                                <option value="conpermiso">Autorizado</option>
                                <option value="feriado">Feriado</option>
                                <option value="incapacidadpub">
                                  Incapacidad Pública
                                </option>
                                <option value="incapacidadpubparcial">
                                  Incapacidad Pública Parcial
                                </option>
                                <option value="incapacidadpriv">
                                  Incapacidad Privada
                                </option>
                                <option value="incapacidadcancelada">
                                  Incapacidad Cancelada
                                </option>
                                <option value="septimo">Séptimo dia</option>
                                <option value="vacacion">Vacación</option>
                                <option value="vacacioncancelada">
                                  Vacación Cancelada
                                </option>
                              </optgroup>
                              <optgroup label="Sin Permiso">
                                <option value="falta">Falta</option>
                                <option value="suspension">Suspensión</option>
                                <option value="abandono">Renuncia</option>
                              </optgroup>
                            </select>
                          </form>
                          <div class="form-text">Observación (opcional)</div>
                        </td>
                      </tr>
                      <tr>
                        <nz-form-label [nzSm]="24" [nzXs]="24" nzRequired
                          >Jueves</nz-form-label
                        >
                        <td>
                          <input
                            type="time"
                            formControlName="juIControl"
                            (ngModelChange)="horasJuI($event)"
                            step="900"
                            class="form-control"
                          />
                          <div class="form-text">Hora de Entrada</div>
                        </td>
                        <td>
                          <input
                            type="time"
                            formControlName="juOControl"
                            (ngModelChange)="horasJuO($event)"
                            step="900"
                            class="form-control"
                          />
                          <div class="form-text">Hora de Salida</div>
                        </td>
                        <td>
                          <form [formGroup]="descriForm">
                            <select
                              class="form-select"
                              formControlName="juevesSelect"
                              id="juevesSelect"
                              (ngModelChange)="onChangeJueves()"
                            >
                              <option label="Ninguna" value=""></option>
                              <option value="notrabajaba">No Laboraba</option>
                              <optgroup label="Con Permiso">
                                <option value="conpermiso">Autorizado</option>
                                <option value="feriado">Feriado</option>
                                <option value="incapacidadpub">
                                  Incapacidad Pública
                                </option>
                                <option value="incapacidadpubparcial">
                                  Incapacidad Pública Parcial
                                </option>
                                <option value="incapacidadpriv">
                                  Incapacidad Privada
                                </option>
                                <option value="incapacidadcancelada">
                                  Incapacidad Cancelada
                                </option>
                                <option value="septimo">Séptimo dia</option>
                                <option value="vacacion">Vacación</option>
                                <option value="vacacioncancelada">
                                  Vacación Cancelada
                                </option>
                              </optgroup>
                              <optgroup label="Sin Permiso">
                                <option value="falta">Falta</option>
                                <option value="suspension">Suspensión</option>
                                <option value="abandono">Renuncia</option>
                              </optgroup>
                            </select>
                          </form>
                          <div class="form-text">Observación (opcional)</div>
                        </td>
                      </tr>
                      <tr>
                        <nz-form-label [nzSm]="24" [nzXs]="24" nzRequired
                          >Viernes</nz-form-label
                        >
                        <td>
                          <input
                            type="time"
                            formControlName="viIControl"
                            (ngModelChange)="horasViI($event)"
                            step="900"
                            class="form-control"
                          />
                          <div class="form-text">Hora de Entrada</div>
                        </td>
                        <td>
                          <input
                            type="time"
                            formControlName="viOControl"
                            (ngModelChange)="horasViO($event)"
                            step="900"
                            class="form-control"
                          />
                          <div class="form-text">Hora de Salida</div>
                        </td>
                        <td>
                          <form [formGroup]="descriForm">
                            <select
                              class="form-select"
                              formControlName="viernesSelect"
                              id="viernesSelect"
                              (ngModelChange)="onChangeViernes()"
                            >
                              <option label="Ninguna" value=""></option>
                              <option value="notrabajaba">No Laboraba</option>
                              <optgroup label="Con Permiso">
                                <option value="conpermiso">Autorizado</option>
                                <option value="feriado">Feriado</option>
                                <option value="incapacidadpub">
                                  Incapacidad Pública
                                </option>
                                <option value="incapacidadpubparcial">
                                  Incapacidad Pública Parcial
                                </option>
                                <option value="incapacidadpriv">
                                  Incapacidad Privada
                                </option>
                                <option value="incapacidadcancelada">
                                  Incapacidad Cancelada
                                </option>
                                <option value="septimo">Séptimo dia</option>
                                <option value="vacacion">Vacación</option>
                                <option value="vacacioncancelada">
                                  Vacación Cancelada
                                </option>
                              </optgroup>
                              <optgroup label="Sin Permiso">
                                <option value="falta">Falta</option>
                                <option value="suspension">Suspensión</option>
                                <option value="abandono">Renuncia</option>
                              </optgroup>
                            </select>
                          </form>
                          <div class="form-text">Observación (opcional)</div>
                        </td>
                      </tr>
                      <tr>
                        <nz-form-label [nzSm]="24" [nzXs]="24" nzRequired
                          >Sábado</nz-form-label
                        >
                        <td>
                          <input
                            type="time"
                            formControlName="saIControl"
                            (ngModelChange)="horasSaI($event)"
                            step="900"
                            class="form-control"
                          />
                          <div class="form-text">Hora de Entrada</div>
                        </td>
                        <td>
                          <input
                            type="time"
                            formControlName="saOControl"
                            (ngModelChange)="horasSaO($event)"
                            step="900"
                            class="form-control"
                          />
                          <div class="form-text">Hora de Salida</div>
                        </td>
                        <td>
                          <form [formGroup]="descriForm">
                            <select
                              class="form-select"
                              formControlName="sabadoSelect"
                              id="sabadoSelect"
                              (ngModelChange)="onChangeSabado()"
                            >
                              <option label="Ninguna" value=""></option>
                              <option value="notrabajaba">No Laboraba</option>
                              <optgroup label="Con Permiso">
                                <option value="conpermiso">Autorizado</option>
                                <option value="feriado">Feriado</option>
                                <option value="incapacidadpub">
                                  Incapacidad Pública
                                </option>
                                <option value="incapacidadpubparcial">
                                  Incapacidad Pública Parcial
                                </option>
                                <option value="incapacidadpriv">
                                  Incapacidad Privada
                                </option>
                                <option value="incapacidadcancelada">
                                  Incapacidad Cancelada
                                </option>
                                <option value="septimo">Séptimo dia</option>
                                <option value="vacacion">Vacación</option>
                                <option value="vacacioncancelada">
                                  Vacación Cancelada
                                </option>
                              </optgroup>
                              <optgroup label="Sin Permiso">
                                <option value="falta">Falta</option>
                                <option value="suspension">Suspensión</option>
                                <option value="abandono">Renuncia</option>
                              </optgroup>
                            </select>
                          </form>
                          <div class="form-text">Observación (opcional)</div>
                        </td>
                      </tr>
                      <tr>
                        <nz-form-label [nzSm]="24" [nzXs]="24" nzRequired
                          >Domingo</nz-form-label
                        >
                        <td>
                          <input
                            type="time"
                            formControlName="doIControl"
                            (ngModelChange)="horasDoI($event)"
                            step="900"
                            class="form-control"
                          />
                          <div class="form-text">Hora de Entrada</div>
                        </td>
                        <td>
                          <input
                            type="time"
                            formControlName="doOControl"
                            (ngModelChange)="horasDoO($event)"
                            step="900"
                            class="form-control"
                          />
                          <div class="form-text">Hora de Salida</div>
                        </td>
                        <td>
                          <form [formGroup]="descriForm">
                            <select
                              class="form-select"
                              formControlName="domingoSelect"
                              id="domingoSelect"
                              (ngModelChange)="onChangeDomingo()"
                            >
                              <option label="Ninguna" value=""></option>
                              <option value="notrabajaba">No Laboraba</option>
                              <optgroup label="Con Permiso">
                                <option value="conpermiso">Autorizado</option>
                                <option value="feriado">Feriado</option>
                                <option value="incapacidadpub">
                                  Incapacidad Pública
                                </option>
                                <option value="incapacidadpubparcial">
                                  Incapacidad Pública Parcial
                                </option>
                                <option value="incapacidadpriv">
                                  Incapacidad Privada
                                </option>
                                <option value="incapacidadcancelada">
                                  Incapacidad Cancelada
                                </option>
                                <option value="septimo">Séptimo dia</option>
                                <option value="vacacion">Vacación</option>
                                <option value="vacacioncancelada">
                                  Vacación Cancelada
                                </option>
                              </optgroup>
                              <optgroup label="Sin Permiso">
                                <option value="falta">Falta</option>
                                <option value="suspension">Suspensión</option>
                                <option value="abandono">Renuncia</option>
                              </optgroup>
                            </select>
                          </form>
                          <div class="form-text">Observación (opcional)</div>
                        </td>
                      </tr>
                      <table style="margin: 0 auto">
                        <tr>
                          <td>
                            <button
                              type="button"
                              id="btnRevisar"
                              class="btn btn-success"
                              (click)="showModalMain()"
                              style="margin-bottom: 5%; margin-top: 5%"
                              data-placement="bottom"
                              title="Verificar Horario"
                            >
                              <i class="bi bi-calendar-check"></i>
                            </button>
                          </td>
                          <td>
                            <button
                              type="button"
                              id="btnAutofillDiurna"
                              (click)="autofillDiurna()"
                              class="btn btn-warning"
                              data-placement="bottom"
                              title="Rellenar como Jornada Diurna"
                            >
                              <i class="bi bi-brightness-high-fill"></i>
                            </button>
                          </td>
                          <td>
                            <button
                              type="button"
                              id="btnAutofillMixta"
                              (click)="autofillMixta()"
                              class="btn btn-secondary"
                              data-placement="bottom"
                              title="Rellenar como Jornada Mixta"
                            >
                              <i class="bi bi-brightness-alt-high-fill"></i>
                            </button>
                          </td>
                          <td>
                            <button
                              type="button"
                              id="btnAutofillNocturna"
                              (click)="autofillNocturna()"
                              class="btn btn-dark"
                              data-placement="bottom"
                              title="Rellenar como Jornada Nocturna"
                            >
                              <i class="bi bi-moon-stars-fill"></i>
                            </button>
                          </td>
                          <td>
                            <nz-form-label
                              style="padding-top: 5px"
                              [nzNoColon]="true"
                              [nzSm]="24"
                              [nzXs]="24"
                              >Periodo de Prueba
                            </nz-form-label>
                            <nz-switch
                              [(ngModel)]="switchValuePP"
                              [nzDisabled]="isDisabledPP"
                              [ngModelOptions]="{ standalone: true }"
                              [nzCheckedChildren]="checkedTemplate"
                              [nzUnCheckedChildren]="unCheckedTemplate"
                            ></nz-switch>
                            <ng-template #checkedTemplate
                              ><i nz-icon nzType="check"></i
                            ></ng-template>
                            <ng-template #unCheckedTemplate
                              ><i nz-icon nzType="close"></i
                            ></ng-template>
                          </td>
                        </tr>
                      </table>
                    </form>
                  </div>
                </div>
              </div>

              <nz-modal
                [(nzVisible)]="isVisibleDivPrimario"
                [nzFooter]="null"
                nzTitle="Definir total de la Incapacidad Pública"
                nzClosable="false"
                nzCentered
              >
                <ng-container *nzModalContent>
                  <div id="divPrincipal" class="card">
                    <div class="card-body">
                      <div>
                        <h1 style="text-align: center">
                          Información Adicional
                        </h1>
                        <form [formGroup]="extraForm">
                          <tr>
                            <nz-form-label [nzSm]="24" [nzXs]="24" nzRequired
                              >Valor de la incapacidad pública</nz-form-label
                            >
                            <td>
                              <input
                                formControlName="incpub"
                                nz-input
                                placeholder="0"
                                type="number"
                                min="0"
                                nzSize="default"
                              />
                            </td>
                            <td>
                              <button
                                type="button"
                                class="btn btn-primary"
                                [disabled]="extraForm.invalid"
                                (click)="incapacidadPub()"
                              >
                                <i class="bi bi-check-lg"></i>
                              </button>
                            </td>
                          </tr>
                        </form>
                      </div>
                    </div>
                  </div>
                </ng-container>
              </nz-modal>

              <nz-modal
                [(nzVisible)]="isVisibleDivSecundario"
                [nzFooter]="null"
                nzTitle="Manera en la que se debe remunerar la Incapacidad Privada"
                nzClosable="false"
                nzCentered
              >
                <ng-container *nzModalContent>
                  <div id="divSecundario" class="card">
                    <div class="card-body">
                      <div>
                        <h1 style="text-align: center">
                          Información Adicional
                        </h1>
                        <form [formGroup]="extraFormSecundario">
                          <tr>
                            <nz-form-label [nzSm]="24" [nzXs]="24" nzRequired
                              >Jornada de la Incapacidad Privada</nz-form-label
                            >
                            <td>
                              <select
                                class="form-select"
                                formControlName="jornadaSelect"
                                id="jornadaSelect"
                                (ngModelChange)="onChangeJornada()"
                              >
                                <option
                                  label="Seleccione"
                                  selected
                                  disabled
                                ></option>
                                <option value="Diurna">Diurna</option>
                                <option value="Mixta">Mixta</option>
                                <option value="Nocturna">Nocturna</option>
                              </select>
                            </td>

                            <td>
                              <button
                                type="button"
                                class="btn btn-primary"
                                [disabled]="extraFormSecundario.invalid"
                                (click)="incapacidadPriv()"
                              >
                                <i class="bi bi-check-lg"></i>
                              </button>
                            </td>
                          </tr>
                        </form>
                      </div>
                    </div>
                  </div>
                </ng-container>
              </nz-modal>

              <nz-modal
                [(nzVisible)]="isVisibleDivTercero"
                [nzFooter]="null"
                nzTitle="Definir total de la Incapacidad Pública"
                nzClosable="false"
                nzCentered
              >
                <ng-container *nzModalContent>
                  <div id="divTercero" class="card">
                    <div class="card-body">
                      <div>
                        <h1 style="text-align: center">
                          Información Adicional
                        </h1>
                        <form [formGroup]="extraFormTercero">
                          <tr>
                            <nz-form-label [nzSm]="24" [nzXs]="24" nzRequired
                              >Valor total de la incapacidad</nz-form-label
                            >
                            <td>
                              <input
                                formControlName="incpub"
                                nz-input
                                placeholder="0"
                                type="number"
                                min="0"
                                nzSize="default"
                              />
                            </td>
                          </tr>
                          <tr>
                            <nz-form-label [nzSm]="24" [nzXs]="24" nzRequired
                              >Suma de dias de la incapacidad</nz-form-label
                            >
                            <td>
                              <input
                                formControlName="dias"
                                nz-input
                                placeholder="0"
                                type="number"
                                min="0"
                                nzSize="default"
                              />
                            </td>
                            <td>
                              <button
                                type="button"
                                class="btn btn-primary"
                                [disabled]="extraFormTercero.invalid"
                                (click)="incapacidadPubParcial()"
                              >
                                <i class="bi bi-check-lg"></i>
                              </button>
                            </td>
                          </tr>
                        </form>
                      </div>
                    </div>
                  </div>
                </ng-container>
              </nz-modal>
            </td>

            <td>
              <div class="card">
                <div class="card-body">
                  <div>
                    <h1 style="text-align: center">Resumen</h1>
                    <form [formGroup]="resumenForm">
                      <tr>
                        <nz-form-label
                          [nzSm]="24"
                          [nzXs]="24"
                          [nzNoColon]="true"
                          >Horas Normales :
                          {{ this.totalTrabNormales }}</nz-form-label
                        >
                        <td>
                          <input
                            formControlName="hn"
                            nz-input
                            placeholder="0"
                            type="text"
                            nzSize="default"
                          />
                        </td>
                      </tr>

                      <tr>
                        <nz-form-label
                          [nzSm]="24"
                          [nzXs]="24"
                          [nzNoColon]="true"
                          >Horas Extras Diurnas :
                          {{ this.totalExtrasDiurnas }}</nz-form-label
                        >
                        <td>
                          <input
                            formControlName="hed"
                            nz-input
                            placeholder="0"
                            type="text"
                            nzSize="default"
                          />
                        </td>
                      </tr>

                      <tr>
                        <nz-form-label
                          [nzSm]="24"
                          [nzXs]="24"
                          [nzNoColon]="true"
                          >Horas Extras Mixtas :
                          {{ this.totalExtrasMixtas }}</nz-form-label
                        >
                        <td>
                          <input
                            formControlName="hem"
                            nz-input
                            placeholder="0"
                            type="text"
                            nzSize="default"
                          />
                        </td>
                      </tr>

                      <tr>
                        <nz-form-label
                          [nzSm]="24"
                          [nzXs]="24"
                          [nzNoColon]="true"
                          >Horas Extras Nocturnas :
                          {{ this.totalExtrasNocturnas }}</nz-form-label
                        >
                        <td>
                          <input
                            formControlName="hen"
                            nz-input
                            placeholder="0"
                            type="text"
                            nzSize="default"
                          />
                        </td>
                      </tr>

                      <tr>
                        <nz-form-label
                          [nzSm]="24"
                          [nzXs]="24"
                          [nzNoColon]="true"
                          >Ajuste</nz-form-label
                        >
                        <td>
                          <input
                            formControlName="ajuste"
                            nz-input
                            placeholder="0"
                            type="number"
                            nzSize="default"
                          />
                        </td>
                      </tr>

                      <tr>
                        <nz-form-label
                          [nzSm]="24"
                          [nzXs]="24"
                          [nzNoColon]="true"
                          >Feriados : {{ this.feriado }}</nz-form-label
                        >
                        <td>
                          <input
                            formControlName="feriado"
                            nz-input
                            placeholder="0"
                            type="text"
                            nzSize="default"
                          />
                        </td>
                      </tr>

                      <tr>
                        <nz-form-label
                          [nzSm]="24"
                          [nzXs]="24"
                          [nzNoColon]="true"
                          >Septimo Dia : {{ this.septimo }}</nz-form-label
                        >
                        <td>
                          <input
                            formControlName="septimo"
                            nz-input
                            placeholder="0"
                            type="text"
                            nzSize="default"
                          />
                        </td>
                      </tr>
                      <tr>
                        <nz-form-label
                          [nzSm]="24"
                          [nzXs]="24"
                          [nzNoColon]="true"
                          >Vacaciones : {{ this.vacacion }}</nz-form-label
                        >
                        <td>
                          <input
                            formControlName="vacacion"
                            nz-input
                            placeholder="0"
                            type="text"
                            nzSize="default"
                          />
                        </td>
                      </tr>

                      <tr>
                        <nz-form-label
                          [nzSm]="24"
                          [nzXs]="24"
                          [nzNoColon]="true"
                          >Incapacidades Públicas :
                          {{ this.incapacidadpub }}</nz-form-label
                        >
                        <td>
                          <input
                            formControlName="incapacidad"
                            nz-input
                            placeholder="0"
                            type="text"
                            nzSize="default"
                          />
                        </td>
                      </tr>

                      <tr>
                        <nz-form-label
                          [nzSm]="24"
                          [nzXs]="24"
                          [nzNoColon]="true"
                          >Incapacidades Privadas :
                          {{ this.incapacidadpriv }}</nz-form-label
                        >
                      </tr>

                      <tr>
                        <nz-form-label
                          [nzSm]="24"
                          [nzXs]="24"
                          [nzNoColon]="true"
                          >Faltas: {{ this.falta }}</nz-form-label
                        >
                      </tr>

                      <tr>
                        <nz-form-label
                          [nzSm]="24"
                          [nzXs]="24"
                          [nzNoColon]="true"
                          >Suspensiones: {{ this.suspension }}
                        </nz-form-label>
                      </tr>
                    </form>
                    <table style="margin: 0 auto">
                      <tr>
                        <td>
                          <button
                            nz-button
                            nzType="primary"
                            nzSize="large"
                            id="btnCalcular"
                            disabled
                            (click)="ingresosTotalMain()"
                            data-placement="bottom"
                            title="Calcular Ingresos"
                          >
                            <i
                              nz-icon
                              class="center"
                              nzType="calculator"
                              nzTheme="fill"
                            ></i>
                          </button>
                        </td>
                        <td>
                          <button
                            type="button"
                            class="btn btn-info"
                            (click)="limpiarMain()"
                            data-placement="bottom"
                            title="Limpiar"
                          >
                            <i class="bi bi-stars"></i>
                          </button>
                        </td>
                        <td>
                          <button
                            type="button"
                            class="btn btn-danger"
                            (click)="handleMainCancel()"
                            data-placement="bottom"
                            title="Cancelar"
                          >
                            <i class="bi bi-x-lg"></i>
                          </button>
                        </td>
                      </tr>
                    </table>
                  </div>
                </div>
                <h2 style="text-align: center" class="h2">
                  Sueldo Bruto: Lps. {{ this.sueldoString }}
                </h2>
              </div>
            </td>
          </tr>
        </div>
      </ng-container>
    </nz-modal>
    <nz-modal
      [(nzVisible)]="isVisibleDeduccion"
      nzTitle="Calculando Deducciones | {{
        this.nombreCompleto
      }} — Salario Bruto: Lps. {{ this.sueldoAlDeducirString }}"
      (nzOnCancel)="handleMainDeduccionCancel()"
      nzClosable="false"
      [nzFooter]="null"
    >
      <ng-container *nzModalContent>
        <div id="main_content" class="inner-content" style="overflow: hidden">
          <td>
            <div class="card">
              <div class="card-body">
                <div>
                  <h1 style="text-align: center">Información Requerida</h1>
                  <div style="border-bottom: 1px solid rgb(233, 233, 233)">
                    <tr>
                      <td>
                        <div nz-row>
                          <div nz-col>
                            <label
                              [nzDisabled]="cboxAll"
                              nz-checkbox
                              [(ngModel)]="allChecked"
                              (ngModelChange)="onAllChecked($event)"
                              [nzIndeterminate]="indeterminate"
                            ></label>
                          </div>
                        </div>
                      </td>
                      <nz-form-label [nzNoColon]="true" [nzSm]="24" [nzXs]="24"
                        >Marcar Todos</nz-form-label
                      >
                    </tr>
                  </div>
                  <form nz-form [formGroup]="automaticForm">
                    <p></p>
                    <tr>
                      <td>
                        <div nz-row>
                          <div nz-col>
                            <label
                              nz-checkbox
                              [nzDisabled]="cboxIHSS"
                              [(ngModel)]="isCheckedIHSS"
                              (ngModelChange)="logIHSS($event)"
                              [ngModelOptions]="{ standalone: true }"
                            ></label>
                          </div>
                        </div>
                      </td>
                      <td>
                        <nz-form-label [nzSm]="24" [nzXs]="24"
                          >IHSS</nz-form-label
                        >
                      </td>
                      <td>
                        <input
                          formControlName="ihss"
                          nz-input
                          placeholder="0"
                          type="number"
                          min="0"
                          nzSize="default"
                        />
                      </td>
                      <td style="padding-left: 0px">
                        <nz-switch
                          [(ngModel)]="switchValueIHSS"
                          [nzCheckedChildren]="checkedTemplate"
                          [nzUnCheckedChildren]="unCheckedTemplate"
                          (ngModelChange)="enableIHSS()"
                          [nzDisabled]="isDisabledIHSS"
                          [ngModelOptions]="{ standalone: true }"
                        ></nz-switch>
                        <ng-template #checkedTemplate
                          ><i nz-icon nzType="edit" nzTheme="outline"></i
                        ></ng-template>
                        <ng-template #unCheckedTemplate
                          ><i nz-icon nzType="check"></i
                        ></ng-template>
                      </td>
                    </tr>

                    <tr>
                      <td>
                        <div nz-row>
                          <div nz-col>
                            <label
                              nz-checkbox
                              [nzDisabled]="cboxISR"
                              [(ngModel)]="isCheckedISR"
                              (ngModelChange)="logISR($event)"
                              [ngModelOptions]="{ standalone: true }"
                            ></label>
                          </div>
                        </div>
                      </td>
                      <td>
                        <nz-form-label [nzSm]="24" [nzXs]="24"
                          >ISR</nz-form-label
                        >
                      </td>
                      <td>
                        <input
                          formControlName="isr"
                          nz-input
                          placeholder="0"
                          type="number"
                          min="0"
                          nzSize="default"
                        />
                      </td>
                      <td style="padding-left: 0px">
                        <nz-switch
                          [(ngModel)]="switchValueISR"
                          [nzCheckedChildren]="checkedTemplate"
                          [nzUnCheckedChildren]="unCheckedTemplate"
                          (ngModelChange)="enableISR()"
                          [nzDisabled]="isDisabledISR"
                          [ngModelOptions]="{ standalone: true }"
                        ></nz-switch>
                        <ng-template #checkedTemplate
                          ><i nz-icon nzType="edit" nzTheme="outline"></i
                        ></ng-template>
                        <ng-template #unCheckedTemplate
                          ><i nz-icon nzType="check"></i
                        ></ng-template>
                      </td>
                    </tr>
                  </form>

                  <form nz-form [formGroup]="deduccionForm">
                    <tr>
                      <td>
                        <div nz-row>
                          <div nz-col>
                            <label
                              nz-checkbox
                              [nzDisabled]="cboxImpVecinal"
                              [(ngModel)]="isCheckedImpVecinal"
                              (ngModelChange)="logImpVecinal($event)"
                              [ngModelOptions]="{ standalone: true }"
                            ></label>
                          </div>
                        </div>
                      </td>
                      <td>
                        <nz-form-label [nzSm]="24" [nzXs]="24"
                          >Impuesto Vecinal</nz-form-label
                        >
                      </td>
                      <td>
                        <input
                          formControlName="impvecinal"
                          nz-input
                          placeholder="0"
                          type="number"
                          min="0"
                          nzSize="default"
                        />
                      </td>
                    </tr>

                    <tr>
                      <td>
                        <div nz-row>
                          <div nz-col>
                            <label
                              nz-checkbox
                              [nzDisabled]="cboxCTAEmpresa"
                              [(ngModel)]="isCheckedCTAEmpresa"
                              (ngModelChange)="logCTA($event)"
                              [ngModelOptions]="{ standalone: true }"
                            ></label>
                          </div>
                        </div>
                      </td>
                      <td>
                        <nz-form-label
                          [nzSm]="24"
                          [nzXs]="24"
                          nzTooltipTitle="Valor a deducir por actos negligentes durante horas laborales"
                          >CTA. Empresa
                        </nz-form-label>
                      </td>
                      <td>
                        <input
                          formControlName="ctaempresa"
                          nz-input
                          placeholder="0"
                          type="number"
                          min="0"
                          nzSize="default"
                        />
                      </td>
                    </tr>

                    <tr>
                      <td>
                        <div nz-row>
                          <div nz-col>
                            <label
                              nz-checkbox
                              [nzDisabled]="cboxViaticos"
                              [(ngModel)]="isCheckedTransporte"
                              (ngModelChange)="logTransporte($event)"
                              [ngModelOptions]="{ standalone: true }"
                            ></label>
                          </div>
                        </div>
                      </td>
                      <td>
                        <nz-form-label [nzSm]="24" [nzXs]="24"
                          >Transporte</nz-form-label
                        >
                      </td>
                      <td>
                        <input
                          formControlName="transporte"
                          nz-input
                          placeholder="0"
                          type="number"
                          min="0"
                          nzSize="default"
                        />
                      </td>
                    </tr>

                    <tr>
                      <td>
                        <div nz-row>
                          <div nz-col>
                            <label
                              nz-checkbox
                              [nzDisabled]="cboxAjuste"
                              [(ngModel)]="isCheckedAjuste"
                              (ngModelChange)="logAjuste($event)"
                              [ngModelOptions]="{ standalone: true }"
                            ></label>
                          </div>
                        </div>
                      </td>
                      <td>
                        <nz-form-label [nzSm]="24" [nzXs]="24"
                          >Ajuste</nz-form-label
                        >
                      </td>
                      <td>
                        <input
                          formControlName="ajuste"
                          nz-input
                          placeholder="0"
                          type="number"
                          min="0"
                          nzSize="default"
                        />
                      </td>
                    </tr>

                    <tr>
                      <td>
                        <div nz-row>
                          <div nz-col>
                            <label
                              nz-checkbox
                              [nzDisabled]="cboxOtros"
                              [(ngModel)]="isCheckedVarios"
                              (ngModelChange)="logVarios($event)"
                              [ngModelOptions]="{ standalone: true }"
                            ></label>
                          </div>
                        </div>
                      </td>
                      <td>
                        <nz-form-label
                          [nzSm]="24"
                          [nzXs]="24"
                          nzTooltipTitle="Valor a deducir en concepto de herramientas, vestimenta, examenes medicos etc."
                          >Otros
                        </nz-form-label>
                      </td>
                      <td>
                        <input
                          formControlName="varios"
                          nz-input
                          placeholder="0"
                          type="number"
                          min="0"
                          nzSize="default"
                        />
                      </td>
                    </tr>
                  </form>

                  <p></p>

                  <table style="margin: 0 auto">
                    <tr>
                      <td>
                        <button
                          nz-button
                          nzType="primary"
                          nzSize="large"
                          id="btnCalcularDeduccion"
                          [disabled]="!deduccionForm.valid"
                          (click)="deduccionTotal()"
                          data-placement="bottom"
                          title="Calcular Deducciones"
                        >
                          <i
                            nz-icon
                            class="center"
                            nzType="calculator"
                            nzTheme="fill"
                          ></i>
                        </button>
                      </td>
                      <td>
                        <button
                          type="button"
                          class="btn btn-info"
                          (click)="limpiarMainDeduccion()"
                          data-placement="bottom"
                          title="Limpiar"
                        >
                          <i class="bi bi-stars"></i>
                        </button>
                      </td>
                      <td>
                        <button
                          type="button"
                          class="btn btn-danger"
                          (click)="handleMainDeduccionCancel()"
                          data-placement="bottom"
                          title="Cancelar"
                        >
                          <i class="bi bi-x-lg"></i>
                        </button>
                      </td>
                    </tr>
                  </table>
                </div>
              </div>
              <h2 style="text-align: center" class="h2">
                Total Deducciones: Lps. {{ this.deduccionString }}
              </h2>
            </div>
          </td>
        </div>
      </ng-container>
    </nz-modal>
    <nz-modal
      [(nzVisible)]="isVisibleAguinaldo"
      nzTitle="Definir Aguinaldo"
      nzClosable="false"
      [nzOkDisabled]="isValidAguinaldo"
      (nzOnOk)="aguinaldoSemanal()"
      (nzOnCancel)="handleCancelAguinaldoSem()"
      nzCentered
    >
      <ng-container *nzModalContent>
        <form nz-form [formGroup]="resumenForm">
          <nz-form-item>
            <nz-form-label [nzSm]="6" [nzXs]="24">Aguinaldo</nz-form-label>
            <nz-form-control [nzSm]="8" [nzXs]="24">
              <input
                nz-input
                formControlName="aguinaldo"
                (ngModelChange)="validAguinaldo($event)"
                placeholder="0"
                type="number"
                min="0"
                nzSize="default"
              />
              <div class="form-text">(Opcional)</div>
            </nz-form-control>
            <td>
              <nz-switch
                [(ngModel)]="switchValueAguinaldo"
                [nzDisabled]="isDisabledAguinaldo"
                [nzCheckedChildren]="checkedTemplate"
                [nzUnCheckedChildren]="unCheckedTemplate"
                (ngModelChange)="enableAguinaldo()"
                [ngModelOptions]="{ standalone: true }"
              ></nz-switch>
              <ng-template #checkedTemplate
                ><i nz-icon nzType="edit" nzTheme="outline"></i
              ></ng-template>
              <ng-template #unCheckedTemplate
                ><i nz-icon nzType="check"></i
              ></ng-template>
            </td>
          </nz-form-item>
        </form>
      </ng-container>
    </nz-modal>
    <nz-modal
      [(nzVisible)]="isVisibleAguinaldoDeduccion"
      nzTitle="Calculando Deducciones | {{
        this.nombreCompleto
      }} — Salario Bruto: Lps. {{ this.sueldoAlDeducirString }}"
      (nzOnCancel)="handleMainDeduccionCancel()"
      [nzFooter]="null"
      nzClosable="false"
      nzWidth="25%"
    >
      <ng-container *nzModalContent>
        <div id="main_content" class="inner-content" style="overflow: hidden">
          <td>
            <div class="card">
              <div class="card-body">
                <div>
                  <h1 style="text-align: center">Información Requerida</h1>
                  <div style="border-bottom: 1px solid rgb(233, 233, 233)">
                    <tr>
                      <td>
                        <div nz-row>
                          <div nz-col>
                            <label
                              nz-checkbox
                              [nzDisabled]="cboxAll"
                              [(ngModel)]="allChecked"
                              (ngModelChange)="onAllChecked($event)"
                              [nzIndeterminate]="indeterminate"
                            ></label>
                          </div>
                        </div>
                      </td>
                      <nz-form-label [nzNoColon]="true" [nzSm]="24" [nzXs]="24"
                        >Marcar Todos</nz-form-label
                      >
                    </tr>
                  </div>
                  <form nz-form [formGroup]="aguinaldoForm">
                    <p></p>
                    <tr>
                      <td>
                        <div nz-row>
                          <div nz-col>
                            <label
                              nz-checkbox
                              [nzDisabled]="cboxAjuste"
                              [(ngModel)]="isCheckedAjuste"
                              (ngModelChange)="logAjuste($event)"
                              [ngModelOptions]="{ standalone: true }"
                            ></label>
                          </div>
                        </div>
                      </td>
                      <td>
                        <nz-form-label [nzSm]="24" [nzXs]="24"
                          >Anticipo</nz-form-label
                        >
                      </td>
                      <td>
                        <input
                          formControlName="ajuste"
                          nz-input
                          placeholder="0"
                          type="number"
                          min="0"
                          nzSize="default"
                        />
                      </td>
                    </tr>

                    <tr>
                      <td>
                        <div nz-row>
                          <div nz-col>
                            <label
                              nz-checkbox
                              [nzDisabled]="cboxOtros"
                              [(ngModel)]="isCheckedVarios"
                              (ngModelChange)="logVarios($event)"
                              [ngModelOptions]="{ standalone: true }"
                            ></label>
                          </div>
                        </div>
                      </td>
                      <td>
                        <nz-form-label
                          [nzSm]="24"
                          [nzXs]="24"
                          nzTooltipTitle="Valor a deducir en concepto de herramientas, vestimenta, examenes medicos etc."
                          >Otros
                        </nz-form-label>
                      </td>
                      <td>
                        <input
                          formControlName="varios"
                          nz-input
                          placeholder="0"
                          type="number"
                          min="0"
                          nzSize="default"
                        />
                      </td>
                    </tr>
                  </form>

                  <p></p>

                  <table style="margin: 0 auto">
                    <tr>
                      <td>
                        <button
                          nz-button
                          nzType="primary"
                          nzSize="large"
                          id="btnCalcularDeduccion"
                          [disabled]="!aguinaldoForm.valid"
                          (click)="deduccionTotal()"
                          data-placement="bottom"
                          title="Calcular Deducciones"
                        >
                          <i
                            nz-icon
                            class="center"
                            nzType="calculator"
                            nzTheme="fill"
                          ></i>
                        </button>
                      </td>
                      <td>
                        <button
                          type="button"
                          class="btn btn-info"
                          (click)="limpiarMainDeduccion()"
                          data-placement="bottom"
                          title="Limpiar"
                        >
                          <i class="bi bi-stars"></i>
                        </button>
                      </td>
                      <td>
                        <button
                          type="button"
                          class="btn btn-danger"
                          (click)="handleMainDeduccionCancel()"
                          data-placement="bottom"
                          title="Cancelar"
                        >
                          <i class="bi bi-x-lg"></i>
                        </button>
                      </td>
                    </tr>
                  </table>
                </div>
              </div>
              <h2 style="text-align: center" class="h2">
                Total Deducciones: Lps. {{ this.deduccionString }}
              </h2>
            </div>
          </td>
        </div>
      </ng-container>
    </nz-modal>
    <!-- TABLAS -->
    <nz-table nzTemplateMode id="nominaFinal" hidden>
      <thead>
        <tr>
          <th colspan="26">{{ this.planidescrip | uppercase }}</th>
        </tr>
        <tr>
          <th colspan="26">{{ this.planitipo | uppercase }}</th>
        </tr>
        <tr *ngIf="this.totalAguinaldo <= 0">
          <th colspan="26">FECHA: {{ this.fecha | uppercase }}</th>
        </tr>
        <tr *ngIf="this.totalAguinaldo > 0">
          <th colspan="26">
            {{ this.mesAguinaldo | uppercase }} MES AÑO
            {{ this.yearAguinaldo | uppercase }}
          </th>
        </tr>
        <tr>
          <th rowspan="4">EMPLEADO</th>
          <th rowspan="4">SAL. HORA</th>
          <th rowspan="3" colspan="2">HORAS NORMALES</th>
          <th colspan="12" rowspan="1">INGRESOS</th>
          <th rowspan="4">TOTAL INGRESO</th>
          <th colspan="7" rowspan="1">DEDUCCIONES</th>
          <th rowspan="4">TOTAL DEDUCCION</th>
          <th rowspan="4">TOTAL A PAGAR</th>
        </tr>
        <tr>
          <th rowspan="1" colspan="6">HORAS EXTRAS</th>
          <th rowspan="3">AGUINALDO</th>
          <th rowspan="3">FERIADO</th>
          <th rowspan="3">INCAPACIDAD</th>
          <th rowspan="3">SEPTIMO DIA</th>
          <th rowspan="3">VACACIONES</th>
          <th rowspan="3">AJUSTE</th>
          <th rowspan="3">IHSS</th>
          <th rowspan="3">ISRENTA</th>
          <th rowspan="3">IMP. VECINAL</th>
          <th rowspan="3">CTA. EMPRESA</th>
          <th rowspan="3">VIATICOS</th>
          <th rowspan="3">AJUSTE</th>
          <th rowspan="3">OTROS</th>
        </tr>
        <tr>
          <th rowspan="1" colspan="2">DIURNAS</th>
          <th rowspan="1" colspan="2">MIXTAS</th>
          <th rowspan="1" colspan="2">NOCTURNAS</th>
        </tr>
        <tr>
          <th rowspan="1">HORAS</th>
          <th rowspan="1">LPS.</th>
          <th rowspan="1">HORAS</th>
          <th rowspan="1">LPS.</th>
          <th rowspan="1">HORAS</th>
          <th rowspan="1">LPS.</th>
          <th rowspan="1">HORAS</th>
          <th rowspan="1">LPS.</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let data of listNominaFinal">
          <td>{{ data.nombres }} {{ data.apellidos }}</td>
          <td>{{ data.recargo }}</td>
          <td>{{ data.horasNormales }}</td>
          <td>{{ data.lpsNormales }}</td>
          <td>{{ data.horasDiurnas }}</td>
          <td>{{ data.lpsDiurnas }}</td>
          <td>{{ data.horasMixtas }}</td>
          <td>{{ data.lpsMixtas }}</td>
          <td>{{ data.horasNocturnas }}</td>
          <td>{{ data.lpsNocturnas }}</td>
          <td>{{ data.aguinaldo }}</td>
          <td>{{ data.feriado }}</td>
          <td>{{ data.incapacidad }}</td>
          <td>{{ data.septimo }}</td>
          <td>{{ data.vacacion }}</td>
          <td>{{ data.ajusteP }}</td>
          <td>{{ data.ingresos }}</td>
          <td>{{ data.ihss }}</td>
          <td>{{ data.isr }}</td>
          <td>{{ data.impvecinal }}</td>
          <td>{{ data.cta }}</td>
          <td>{{ data.viaticos }}</td>
          <td>{{ data.ajuste }}</td>
          <td>{{ data.otros }}</td>
          <td>{{ data.deducciones }}</td>
          <td>{{ data.totalPagar }}</td>
        </tr>
      </tbody>
    </nz-table>
    <nz-table nzTemplateMode id="calculosIngresos" hidden>
      <thead>
        <tr>
          <th colspan="17">{{ this.planidescrip | uppercase }}</th>
        </tr>
        <tr>
          <th colspan="17">SEMANA DEL: {{ this.fecha | uppercase }}</th>
        </tr>
        <tr *ngIf="this.totalAguinaldo > 0">
          <th colspan="17">
            {{ this.mesAguinaldo | uppercase }} MES AÑO
            {{ this.yearAguinaldo | uppercase }}
          </th>
        </tr>
        <tr>
          <th rowspan="4">EMPLEADO</th>
          <th rowspan="4">SAL. HORA</th>
          <th rowspan="3" colspan="2">HORAS NORMALES</th>
          <th colspan="12" rowspan="1">INGRESOS</th>
          <th rowspan="4">TOTAL INGRESO</th>
        </tr>
        <tr>
          <th rowspan="1" colspan="6">HORAS EXTRAS</th>
          <th rowspan="3">AGUINALDO</th>
          <th rowspan="3">FERIADO</th>
          <th rowspan="3">INCAPACIDAD</th>
          <th rowspan="3">SEPTIMO DIA</th>
          <th rowspan="3">VACACIONES</th>
          <th rowspan="3">AJUSTE</th>
        </tr>
        <tr>
          <th rowspan="1" colspan="2">DIURNAS</th>
          <th rowspan="1" colspan="2">MIXTAS</th>
          <th rowspan="1" colspan="2">NOCTURNAS</th>
        </tr>
        <tr>
          <th rowspan="1">HORAS</th>
          <th rowspan="1">LPS.</th>
          <th rowspan="1">HORAS</th>
          <th rowspan="1">LPS.</th>
          <th rowspan="1">HORAS</th>
          <th rowspan="1">LPS.</th>
          <th rowspan="1">HORAS</th>
          <th rowspan="1">LPS.</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let data of listNominaFinal">
          <td>{{ data.nombres }} {{ data.apellidos }}</td>
          <td>{{ data.recargo }}</td>
          <td>{{ data.horasNormales }}</td>
          <td>{{ data.lpsNormales }}</td>
          <td>{{ data.horasDiurnas }}</td>
          <td>{{ data.lpsDiurnas }}</td>
          <td>{{ data.horasMixtas }}</td>
          <td>{{ data.lpsMixtas }}</td>
          <td>{{ data.horasNocturnas }}</td>
          <td>{{ data.lpsNocturnas }}</td>
          <td>{{ data.aguinaldo }}</td>
          <td>{{ data.feriado }}</td>
          <td>{{ data.incapacidad }}</td>
          <td>{{ data.septimo }}</td>
          <td>{{ data.vacacion }}</td>
          <td>{{ data.ajusteP }}</td>
          <td>{{ data.ingresos }}</td>
        </tr>
      </tbody>
    </nz-table>
    <nz-table nzTemplateMode id="finalv2" hidden>
      <tbody>
        <td class="mix">
          <nz-table
            nzSize="small"
            nzBordered
            nzTemplateMode
            *ngFor="let data of listComprobantes; let i = index"
          >
            <thead *ngIf="i % 2 === 1">
              <tr>
                <th>:</th>
                <th>:</th>
                <th>:</th>
                <th colspan="8">
                  ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
                </th>
                <th>:</th>
              </tr>
              <tr>
                <th>:</th>
                <th>:</th>
                <th>:</th>
                <th colspan="8">{{ this.planidescrip | uppercase }}</th>
                <th>:</th>
              </tr>
              <tr *ngIf="this.totalAguinaldo > 0">
                <th>:</th>
                <th>:</th>
                <th>:</th>
                <th colspan="8">
                  COMPROBANTE DE PAGO DE
                  {{ this.mesAguinaldo | uppercase }} MES AÑO
                  {{ this.yearAguinaldo | uppercase }}
                </th>
                <th>:</th>
              </tr>
              <tr *ngIf="this.totalAguinaldo <= 0">
                <th>:</th>
                <th>:</th>
                <th>:</th>
                <th colspan="8">COMPROBANTE DE PAGO DE PLANILLA SEMANAL</th>
                <th>:</th>
              </tr>
              <tr *ngIf="this.totalAguinaldo <= 0">
                <th>:</th>
                <th>:</th>
                <th>:</th>
                <th colspan="8">FECHA: {{ this.fecha | uppercase }}</th>
                <th>:</th>
              </tr>
              <tr>
                <th>:</th>
                <th>:</th>
                <th>:</th>
                <th colspan="8">
                  NOMBRE: {{ data.nombres | uppercase }}
                  {{ data.apellidos | uppercase }}
                </th>
                <th>:</th>
              </tr>
              <tr>
                <th>:</th>
                <th>:</th>
                <th>:</th>
                <th colspan="8">
                  ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
                </th>
                <th>:</th>
              </tr>
              <tr>
                <th>:</th>
                <th>:</th>
                <th>:</th>
                <th colspan="2">DESCRIPCION</th>
                <th colspan="2">DEVENGADO</th>
                <th colspan="2">DEDUCIDO</th>
                <th colspan="2">PAGADO</th>
                <th>:</th>
              </tr>
              <tr>
                <th>:</th>
                <th>:</th>
                <th>:</th>
                <th colspan="8">
                  ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
                </th>
                <th>:</th>
              </tr>
            </thead>
            <tbody *ngIf="i % 2 === 1">
              <tr *ngIf="this.totalAguinaldo <= 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">SALARIO NORMAL</td>
                <td colspan="2">{{ data.lpsNormales | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr
                *ngIf="
                  !isNumber(
                    data.lpsDiurnas + data.lpsMixtas + data.lpsNocturnas
                  ) && this.totalAguinaldo <= 0
                "
              >
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">SALARIO EXTRA</td>
                <td colspan="2">
                  {{
                    data.lpsDiurnas + data.lpsMixtas + data.lpsNocturnas
                      | currency : "LPS "
                  }}
                </td>
                <td colspan="2"></td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="data.aguinaldo > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">{{ this.mesAguinaldo | uppercase }}</td>
                <td colspan="2">{{ data.aguinaldo | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="data.feriado > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">FERIADO</td>
                <td colspan="2">{{ data.feriado | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="data.incapacidad > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">INCAPACIDAD</td>
                <td colspan="2">{{ data.incapacidad | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="data.vacacion > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">VACACION</td>
                <td colspan="2">{{ data.vacacion | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="data.ajusteP > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">(+) AJUSTE</td>
                <td colspan="2">{{ data.ajusteP | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="data.septimo > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">SEPTIMO DIA</td>
                <td colspan="2">{{ data.septimo | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="data.ihss > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">IHSS</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.ihss | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="data.isr > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">ISR</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.isr | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="data.impvecinal > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">IMP. VECINAL</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.impvecinal | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="data.cta > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">CTA. EMPRESA</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.cta | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="data.viaticos > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">TRANSPORTE</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.viaticos | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="data.ajuste > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2" *ngIf="totalAguinaldo === 0">(-) AJUSTE</td>
                <td colspan="2" *ngIf="totalAguinaldo > 0">(-) ANTICIPO</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.ajuste | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="data.otros > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">OTROS</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.otros | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="totalAguinaldo > 0 && data.ajuste <= 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <th colspan="8"></th>
                <th>:</th>
              </tr>
              <tr *ngIf="totalAguinaldo > 0 && data.otros <= 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <th colspan="8"></th>
                <th>:</th>
              </tr>
              <tr *ngIf="totalAguinaldo > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <th colspan="8"></th>
                <th>:</th>
              </tr>
              <tr *ngIf="totalAguinaldo > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <th colspan="8"></th>
                <th>:</th>
              </tr>
              <tr *ngIf="totalAguinaldo > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <th colspan="8"></th>
                <th>:</th>
              </tr>
              <tr>
                <th>:</th>
                <th>:</th>
                <th>:</th>
                <th colspan="8">
                  ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
                </th>
                <th>:</th>
              </tr>
              <tr *ngIf="data.totalPagar > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">TOTALES</td>
                <td colspan="2">{{ data.ingresos | currency : "LPS " }}</td>
                <td colspan="2">{{ data.deducciones | currency : "LPS " }}</td>
                <td colspan="2">{{ data.totalPagar | currency : "LPS " }}</td>
                <td>:</td>
              </tr>
              <tr>
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <th colspan="8">
                  ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
                </th>
                <th>:</th>
              </tr>
              <tr *ngIf="data.feriado > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">DIAS FERIADO</td>
                <td colspan="2">{{ data.diasferiado }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="data.incapacidad > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">DIAS INCAPACIDAD</td>
                <td colspan="2">{{ data.diasincapacidad }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="data.vacacion > 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="2">DIAS VACACIONES</td>
                <td colspan="2">{{ data.diasvacacion }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="totalAguinaldo === 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="3">DIAS FALTADOS AUTORIZADOS</td>
                <td colspan="1">{{ data.diasautorizados }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="totalAguinaldo === 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="3">DIAS FALTADOS NO AUTORIZADOS</td>
                <td colspan="1">{{ data.diasnoautorizados }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="totalAguinaldo === 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="3">DIAS POR SUSPENSION DE LABORES</td>
                <td colspan="1">{{ data.diassuspension }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="totalAguinaldo === 0">
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <th colspan="8">
                  ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
                </th>
                <th>:</th>
              </tr>
              <tr>
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <td colspan="6">
                  RECIBI
                  CONFORME:_________________________________________________.
                </td>
                <td colspan="2">{{ data.totalPagar | currency : "LPS " }}</td>
                <td>:</td>
              </tr>
              <tr>
                <td>:</td>
                <td>:</td>
                <td>:</td>
                <th colspan="8">
                  ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
                </th>
                <th>:</th>
              </tr>
              <tr></tr>
            </tbody>
          </nz-table>
        </td>
      </tbody>
    </nz-table>
    <nz-table nzTemplateMode id="final" hidden>
      <tbody>
        <td class="mix">
          <nz-table
            nzSize="small"
            nzBordered
            nzTemplateMode
            *ngFor="let data of listComprobantes; let i = index"
          >
            <thead *ngIf="i % 2 === 0">
              <tr>
                <th>:</th>
                <th colspan="8">
                  ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
                </th>
              </tr>
              <tr>
                <th>:</th>
                <th colspan="8">{{ this.planidescrip | uppercase }}</th>
              </tr>
              <tr *ngIf="this.totalAguinaldo > 0">
                <th>:</th>
                <th colspan="8">
                  COMPROBANTE DE PAGO DE
                  {{ this.mesAguinaldo | uppercase }} MES AÑO
                  {{ this.yearAguinaldo | uppercase }}
                </th>
              </tr>
              <tr *ngIf="this.totalAguinaldo <= 0">
                <th>:</th>
                <th colspan="8">COMPROBANTE DE PAGO DE PLANILLA SEMANAL</th>
              </tr>
              <tr *ngIf="this.totalAguinaldo <= 0">
                <th>:</th>
                <th colspan="8">FECHA: {{ this.fecha | uppercase }}</th>
              </tr>
              <tr>
                <th>:</th>
                <th colspan="8">
                  NOMBRE: {{ data.nombres | uppercase }}
                  {{ data.apellidos | uppercase }}
                </th>
              </tr>
              <tr>
                <th>:</th>
                <th colspan="8">
                  ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
                </th>
              </tr>
              <tr>
                <th>:</th>
                <th colspan="2">DESCRIPCION</th>
                <th colspan="2">DEVENGADO</th>
                <th colspan="2">DEDUCIDO</th>
                <th colspan="2">PAGADO</th>
              </tr>
              <tr>
                <th>:</th>
                <th colspan="8">
                  ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
                </th>
              </tr>
            </thead>
            <tbody *ngIf="i % 2 === 0">
              <tr *ngIf="this.totalAguinaldo <= 0">
                <td>:</td>
                <td colspan="2">SALARIO NORMAL</td>
                <td colspan="2">{{ data.lpsNormales | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
              </tr>
              <tr
                *ngIf="
                  !isNumber(
                    data.lpsDiurnas + data.lpsMixtas + data.lpsNocturnas
                  ) && this.totalAguinaldo <= 0
                "
              >
                <td>:</td>
                <td colspan="2">SALARIO EXTRA</td>
                <td colspan="2">
                  {{
                    data.lpsDiurnas + data.lpsMixtas + data.lpsNocturnas
                      | currency : "LPS "
                  }}
                </td>
                <td colspan="2"></td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="data.aguinaldo > 0">
                <td>:</td>
                <td colspan="2">{{ this.mesAguinaldo | uppercase }}</td>
                <td colspan="2">{{ data.aguinaldo | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="data.feriado > 0">
                <td>:</td>
                <td colspan="2">FERIADO</td>
                <td colspan="2">{{ data.feriado | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="data.incapacidad > 0">
                <td>:</td>
                <td colspan="2">INCAPACIDAD</td>
                <td colspan="2">{{ data.incapacidad | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="data.vacacion > 0">
                <td>:</td>
                <td colspan="2">VACACION</td>
                <td colspan="2">{{ data.vacacion | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="data.ajusteP > 0">
                <td>:</td>
                <td colspan="2">(+) AJUSTE</td>
                <td colspan="2">{{ data.ajusteP | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
                <td>:</td>
              </tr>
              <tr *ngIf="data.septimo > 0">
                <td>:</td>
                <td colspan="2">SEPTIMO DIA</td>
                <td colspan="2">{{ data.septimo | currency : "LPS " }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="data.ihss > 0">
                <td>:</td>
                <td colspan="2">IHSS</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.ihss | currency : "LPS " }}</td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="data.isr > 0">
                <td>:</td>
                <td colspan="2">ISR</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.isr | currency : "LPS " }}</td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="data.impvecinal > 0">
                <td>:</td>
                <td colspan="2">IMP. VECINAL</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.impvecinal | currency : "LPS " }}</td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="data.cta > 0">
                <td>:</td>
                <td colspan="2">CTA. EMPRESA</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.cta | currency : "LPS " }}</td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="data.viaticos > 0">
                <td>:</td>
                <td colspan="2">TRANSPORTE</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.viaticos | currency : "LPS " }}</td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="data.ajuste > 0">
                <td>:</td>
                <td colspan="2" *ngIf="totalAguinaldo === 0">(-) AJUSTE</td>
                <td colspan="2" *ngIf="totalAguinaldo > 0">(-) ANTICIPO</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.ajuste | currency : "LPS " }}</td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="data.otros > 0">
                <td>:</td>
                <td colspan="2">OTROS</td>
                <td colspan="2"></td>
                <td colspan="2">{{ data.otros | currency : "LPS " }}</td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="totalAguinaldo > 0 && data.ajuste <= 0">
                <td>:</td>
              </tr>
              <tr *ngIf="totalAguinaldo > 0 && data.otros <= 0">
                <td>:</td>
              </tr>
              <tr *ngIf="totalAguinaldo > 0">
                <td>:</td>
              </tr>
              <tr *ngIf="totalAguinaldo > 0">
                <td>:</td>
              </tr>
              <tr *ngIf="totalAguinaldo > 0">
                <td>:</td>
              </tr>
              <tr>
                <td>:</td>
                <th colspan="8">
                  ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
                </th>
              </tr>
              <tr *ngIf="data.totalPagar > 0">
                <td>:</td>
                <td colspan="2">TOTALES</td>
                <td colspan="2">{{ data.ingresos | currency : "LPS " }}</td>
                <td colspan="2">{{ data.deducciones | currency : "LPS " }}</td>
                <td colspan="2">{{ data.totalPagar | currency : "LPS " }}</td>
              </tr>
              <tr>
                <td>:</td>
                <th colspan="8">
                  ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
                </th>
              </tr>
              <tr *ngIf="data.feriado > 0">
                <td>:</td>
                <td colspan="2">DIAS FERIADO</td>
                <td colspan="2">{{ data.diasferiado }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="data.incapacidad > 0">
                <td>:</td>
                <td colspan="2">DIAS INCAPACIDAD</td>
                <td colspan="2">{{ data.diasincapacidad }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="data.vacacion > 0">
                <td>:</td>
                <td colspan="2">DIAS VACACIONES</td>
                <td colspan="2">{{ data.diasvacacion }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="totalAguinaldo === 0">
                <td>:</td>
                <td colspan="3">DIAS FALTADOS AUTORIZADOS</td>
                <td colspan="1">{{ data.diasautorizados }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="totalAguinaldo === 0">
                <td>:</td>
                <td colspan="3">DIAS FALTADOS NO AUTORIZADOS</td>
                <td colspan="1">{{ data.diasnoautorizados }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="totalAguinaldo === 0">
                <td>:</td>
                <td colspan="3">DIAS POR SUSPENSION DE LABORES</td>
                <td colspan="1">{{ data.diassuspension }}</td>
                <td colspan="2"></td>
                <td colspan="2"></td>
              </tr>
              <tr *ngIf="totalAguinaldo === 0">
                <td>:</td>
                <th colspan="8">
                  ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
                </th>
              </tr>
              <tr>
                <td>:</td>
                <td colspan="6">
                  RECIBI
                  CONFORME:_________________________________________________.
                </td>
                <td colspan="2">{{ data.totalPagar | currency : "LPS " }}</td>
              </tr>
              <tr>
                <td>:</td>
                <th colspan="8">
                  ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
                </th>
              </tr>
              <tr></tr>
            </tbody>
          </nz-table>
        </td>
      </tbody>
    </nz-table>
    <nz-table nzTemplateMode id="tarjetas" hidden>
      <thead>
        <tr>
          <th colspan="10">{{ this.planidescrip | uppercase }}</th>
        </tr>
        <tr>
          <th colspan="10">SEMANA DEL: {{ this.fecha | uppercase }}</th>
        </tr>
        <tr>
          <th rowspan="2">EMPLEADO</th>
          <th rowspan="2">DIA</th>
          <th rowspan="2">ENTRADA</th>
          <th rowspan="2">SALIDA</th>
          <th rowspan="2">TOTAL TRABAJADAS</th>
          <th rowspan="2">HRS. COMPLETAR JORNADA</th>
          <th rowspan="2">TOTAL NORMALES</th>
          <th colspan="3">HORAS EXTRAS</th>
        </tr>
        <tr>
          <th>DIURNAS</th>
          <th>MIXTAS</th>
          <th>NOCTURNAS</th>
        </tr>
      </thead>
      <tbody *ngFor="let data of listTarjeta">
        <tr>
          <td rowspan="7">{{ data.nombres }} {{ data.apellidos }}</td>
          <td>Lunes</td>
          <td>{{ data.lunesE }}</td>
          <td>{{ data.lunesS }}</td>
          <td>{{ data.horasL }}</td>
          <td>
            {{
              data.horasL - data.jornadaL > 0 ? 0 : data.horasL - data.jornadaL
            }}
          </td>
          <td>{{ data.jornadaL }}</td>
          <td>{{ data.XDL }}</td>
          <td>{{ data.XML }}</td>
          <td>{{ data.XNL }}</td>
        </tr>
        <tr>
          <td>Martes</td>
          <td>{{ data.martesE }}</td>
          <td>{{ data.martesS }}</td>
          <td>{{ data.horasM }}</td>
          <td>
            {{
              data.horasM - data.jornadaM > 0 ? 0 : data.horasM - data.jornadaM
            }}
          </td>
          <td>{{ data.jornadaM }}</td>
          <td>{{ data.XDM }}</td>
          <td>{{ data.XMM }}</td>
          <td>{{ data.XNM }}</td>
        </tr>
        <tr>
          <td>Miercoles</td>
          <td>{{ data.miercolesE }}</td>
          <td>{{ data.miercolesS }}</td>
          <td>{{ data.horasMi }}</td>
          <td>
            {{
              data.horasMi - data.jornadaMi > 0
                ? 0
                : data.horasMi - data.jornadaMi
            }}
          </td>
          <td>{{ data.jornadaMi }}</td>
          <td>{{ data.XDMi }}</td>
          <td>{{ data.XMMi }}</td>
          <td>{{ data.XNMi }}</td>
        </tr>
        <tr>
          <td>Jueves</td>
          <td>{{ data.juevesE }}</td>
          <td>{{ data.juevesS }}</td>
          <td>{{ data.horasJ }}</td>
          <td>
            {{
              data.horasJ - data.jornadaJ > 0 ? 0 : data.horasJ - data.jornadaJ
            }}
          </td>
          <td>{{ data.jornadaJ }}</td>
          <td>{{ data.XDJ }}</td>
          <td>{{ data.XMJ }}</td>
          <td>{{ data.XNJ }}</td>
        </tr>
        <tr>
          <td>Viernes</td>
          <td>{{ data.viernesE }}</td>
          <td>{{ data.viernesS }}</td>
          <td>{{ data.horasV }}</td>
          <td>
            {{
              data.horasV - data.jornadaV > 0 ? 0 : data.horasV - data.jornadaV
            }}
          </td>
          <td>{{ data.jornadaV }}</td>
          <td>{{ data.XDV }}</td>
          <td>{{ data.XMV }}</td>
          <td>{{ data.XNV }}</td>
        </tr>
        <tr>
          <td>Sabado</td>
          <td>{{ data.sabadoE }}</td>
          <td>{{ data.sabadoS }}</td>
          <td>{{ data.horasS }}</td>
          <td>
            {{
              data.horasS - data.jornadaS > 0 ? 0 : data.horasS - data.jornadaS
            }}
          </td>
          <td>{{ data.jornadaS }}</td>
          <td>{{ data.XDS }}</td>
          <td>{{ data.XMS }}</td>
          <td>{{ data.XNS }}</td>
        </tr>
        <tr>
          <td>Domingo</td>
          <td>{{ data.domingoE }}</td>
          <td>{{ data.domingoS }}</td>
          <td>{{ data.horasD }}</td>
          <td>
            {{
              data.horasD - data.jornadaD > 0 ? 0 : data.horasD - data.jornadaD
            }}
          </td>
          <td>{{ data.jornadaD }}</td>
          <td>{{ data.XDD }}</td>
          <td>{{ data.XMD }}</td>
          <td>{{ data.XND }}</td>
        </tr>
        <tr>
          <td></td>
          <td>Totales</td>
          <td></td>
          <td></td>
          <td>
            {{
              data.horasL +
                data.horasM +
                data.horasMi +
                data.horasJ +
                data.horasV +
                data.horasS +
                data.horasD
            }}
          </td>
          <td></td>
          <td>
            {{
              data.jornadaL +
                data.jornadaM +
                data.jornadaMi +
                data.jornadaJ +
                data.jornadaV +
                data.jornadaS +
                data.jornadaD
            }}
          </td>
          <td>
            {{ data.totalD }}
          </td>
          <td>
            {{ data.totalM }}
          </td>
          <td>
            {{ data.totalN }}
          </td>
        </tr>
        <tr>
          <td colspan="11"></td>
        </tr>
      </tbody>
    </nz-table>
  </div>
  <div class="steps-content" *ngIf="current === 0">
    <form [formGroup]="inicialForm">
      <nz-form-item>
        <nz-form-label [nzSm]="8" nzRequired>Planilla</nz-form-label>
        <nz-form-control [nzSm]="8">
          <nz-select
            nzPlaceHolder="Seleccione"
            formControlName="tplanilla"
            (ngModelChange)="log($event)"
          >
            <nz-option
              type="number"
              *ngFor="let tp of listTP"
              nzValue="{{ tp.id }}"
              nzLabel="{{ tp.descripcion | uppercase }} ⇄ {{
                tp.tipo | uppercase
              }}"
            >
            </nz-option>
          </nz-select>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSm]="8" nzRequired>Fecha</nz-form-label>
        <nz-form-control [nzSm]="8">
          <nz-range-picker
            style="display: flex; width: 75%"
            formControlName="fecha"
            [nzRanges]="this.ranges"
            [nzFormat]="this.dateFormat"
            (ngModelChange)="onChange($event)"
          >
          </nz-range-picker>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label
          [nzSm]="8"
          nzTooltipTitle="Debe contener el Control de Asistencia de los empleados en la planilla seleccionada. También puedes descargar la plantilla original."
          >Archivo</nz-form-label
        >
        <nz-form-control [nzSm]="6">
          <input
            nz-input
            class="form-control"
            type="file"
            formControlName="archivo"
            (change)="handleChange($event)"
            id="formFile"
          />
          <div class="form-text" style="text-align: left">(Opcional)</div>
        </nz-form-control>

        <nz-form-control style="text-align: left">
          <button
            nz-button
            nzType="link"
            [disabled]="this.jDatos.length === 0"
            (click)="showArchivo()"
          >
            Revisar Archivo
          </button>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item [hidden]="hideObv">
        <nz-form-label [nzSm]="8">{{ obv }}</nz-form-label>
        <nz-form-control [nzSm]="8">
          <nz-alert
            style="padding-bottom: 1%"
            nzType="info"
            nzMessage="⇝INFORMACIÓN GENERAL⇜"
            [nzDescription]="msgInfo"
            nzShowIcon
          ></nz-alert>
          <nz-alert
            style="padding-bottom: 1%"
            nzType="success"
            [hidden]="hideDetectados"
            [nzMessage]="msgDetectados"
            nzShowIcon
          ></nz-alert>
          <nz-alert
            style="padding-bottom: 1%"
            nzType="error"
            [hidden]="hideErroneos"
            [nzMessage]="msgErroneos"
            nzShowIcon
          ></nz-alert>
          <nz-alert
            style="padding-bottom: 1%"
            nzType="warning"
            [hidden]="hideFaltantesSobrantes"
            [nzMessage]="msgFaltantesSobrantes"
            nzShowIcon
          ></nz-alert>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-control>
          <button
            nz-button
            [disabled]="inicialForm.invalid"
            nzType="primary"
            id="btncontinuar"
            (click)="warning()"
          >
            <i
              class="bi bi-hand-thumbs-up-fill"
              style="padding-right: 5px; padding-bottom: 2px"
            ></i>
            Confirmar
          </button>

          <button
            nz-button
            nzType="primary"
            nzDanger
            [disabled]="true"
            id="btnreintentar"
            (click)="retry()"
          >
            <span nz-icon nzType="clear" nzTheme="outline" class="center"></span
            >Re-Ingresar Datos
          </button>

          <button
            type="button"
            id="btncontinuar"
            (click)="modificarDeducibles()"
            class="btn btn-warning btn-sm"
          >
            <i class="bi bi-exclamation-triangle-fill"></i>
          </button>

          <!-- <button
            type="button"
            (click)="descargarPlantilla()"
            class="btn btn-success btn-sm"
          >
            <i
              nz-icon
              nzType="cloud-download"
              class="centerSmall"
              nzTheme="outline"
            ></i>
            Descargar plantilla
          </button> -->
        </nz-form-control>
      </nz-form-item>
    </form>
  </div>
  <div class="steps-content" *ngIf="current === 1">
    <ng-template #totalTemplate let-total>
      <strong>{{ total }} </strong> colaboradores en la nómina |
      <strong>{{ totalCalculados }} </strong> colaboradores remunerados
    </ng-template>
    <h1>
      <strong>{{ this.planidescrip | uppercase }}</strong>
    </h1>
    <h3 *ngIf="this.totalAguinaldo <= 0">
      <strong>{{
        this.planitipo + " — FECHA: " + this.fecha | uppercase
      }}</strong>
    </h3>
    <h3 *ngIf="this.totalAguinaldo > 0">
      <strong>{{
        this.planitipo +
          " — " +
          this.mesAguinaldo +
          " MES AÑO " +
          this.yearAguinaldo | uppercase
      }}</strong>
    </h3>
    <nz-table
      #basicTable
      [nzData]="listNomina"
      nzPaginationPosition="top"
      [nzShowTotal]="totalTemplate"
      nzBordered
      nzTemplateMode
      id="nominaNormal"
      class="table table-md table-hover"
      (nzCurrentPageDataChange)="onCurrentPageDataChange($event)"
    >
      <thead>
        <tr>
          <th>
            <tr>
              <td style="border: 0px">Comprobante de Pago</td>
            </tr>
            <tr>
              <td
                style="border: 0px"
                [(nzChecked)]="seleccionado"
                [nzIndeterminate]="indeterminados"
                (nzCheckedChange)="onAllCheckedComprobantes($event)"
              ></td>
            </tr>
          </th>
          <th nzWidth="20%" style="text-align: center; vertical-align: middle">
            Nombre Completo
            <form [formGroup]="tempForm">
              <nz-input-group [nzPrefix]="prefixTemplateUser">
                <input
                  nz-input
                  type="text"
                  formControlName="busqueda"
                  (ngModelChange)="Search($event)"
                  [(ngModel)]="nombres"
                  placeholder="Buscar por nombre o apellido"
                />
              </nz-input-group>
              <ng-template #prefixTemplateUser
                ><i class="bi bi-search"></i
              ></ng-template>
            </form>
          </th>
          <th nzWidth="3%" style="text-align: center; vertical-align: middle">
            ID
          </th>
          <th nzWidth="10%" style="text-align: center; vertical-align: middle">
            <nz-form-label
              [nzNoColon]="true"
              nzTooltipTitle="Se permite editar directamente al dar click sobre el valor."
              >Salario Mensual</nz-form-label
            >
          </th>
          <th
            nzWidth="10%"
            style="text-align: center; vertical-align: middle"
            *ngIf="diferencia > 8"
          >
            Salario Diario
          </th>
          <th
            nzWidth="10%"
            style="text-align: center; vertical-align: middle"
            *ngIf="diferencia <= 7"
          >
            Salario por Hora
          </th>
          <th nzWidth="10%" style="text-align: center; vertical-align: middle">
            Ingresos
          </th>
          <th nzWidth="10%" style="text-align: center; vertical-align: middle">
            Deducciones
          </th>
          <th nzWidth="10%" style="text-align: center; vertical-align: middle">
            Total a Pagar
          </th>
          <th
            nzWidth="10%"
            style="text-align: center; vertical-align: middle"
            *ngIf="diferencia <= 7"
          >
            Aguinaldo
          </th>
          <th nzWidth="10%" style="text-align: center; vertical-align: middle">
            Acciones
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td colspan="9" *ngIf="listNomina?.length === 0">
            <nz-empty
              [nzNotFoundImage]="notFound"
              [nzNotFoundContent]="contentTpl"
            ></nz-empty>
            <ng-template #contentTpl>
              <span>
                Planilla "{{ this.planidescrip }}" esta vacia.
                <a routerLink="/listado"
                  >Agregue colaboradores existentes aquí
                </a>
                ó<a routerLink="/agregar"> registre nuevos aquí.</a>
              </span>
            </ng-template>
          </td>
        </tr>

        <tr *ngFor="let data of basicTable.data">
          <td
            [nzChecked]="setOfCheckedId.has(data.id)"
            (nzCheckedChange)="onItemChecked(data.id, $event)"
          ></td>
          <td>{{ data.nombres }} {{ data.apellidos }}</td>
          <td>{{ data.id }}</td>
          <td>
            <div
              class="editable-cell"
              [hidden]="editId === data.id"
              (click)="startEdit(data.id)"
            >
              {{ data.salarioBase | currency : "LPS " }}
            </div>
            <a
              nz-popconfirm
              nzPopconfirmTitle="¿Desea modificar el salario de {{
                data.nombres
              }} {{ data.apellidos }}?"
              nzPopconfirmPlacement="bottom"
              (nzOnConfirm)="confirm()"
              (nzOnCancel)="cancel()"
            >
              <form [formGroup]="tempForm">
                <input
                  nz-input
                  formControlName="salario"
                  id="salarioEdit"
                  [hidden]="editId !== data.id"
                  type="text"
                  onfocusout="cancel()"
                  [(ngModel)]="data.name"
                  (blur)="stopEdit()"
                />
              </form>
            </a>
          </td>
          <td *ngIf="diferencia > 8">
            {{
              this.truncator(data.salarioBase / 30).toFixed(2)
                | currency : "LPS "
            }}
          </td>
          <td *ngIf="diferencia <= 7">
            {{
              (this.truncator(data.salarioBase / 30) / 8).toFixed(5)
                | currency : "LPS "
            }}
          </td>
          <td>{{ data.ingresos | currency : "LPS " }}</td>
          <td>{{ data.deducciones | currency : "LPS " }}</td>
          <td>{{ data.totalPagar | currency : "LPS " }}</td>
          <td *ngIf="diferencia <= 7">
            <button
              class="btn btn-success btn-sm"
              (click)="handleAguinaldoSemanal(data.id)"
              title="Aguinaldo"
            >
              <span
                nz-icon
                nzType="dollar-circle"
                nzTheme="outline"
                class="centerAguinaldo"
              ></span>
            </button>
          </td>
          <td width="15%">
            <button
              *ngIf="this.totalAguinaldo === 0 && diferencia > 8"
              class="btn btn-info btn-sm"
              (click)="ingresoCompleto(data.id)"
              title="Jornada Completa"
            >
              <i class="bi bi-check2-circle"></i>
            </button>
            <button
              *ngIf="
                (this.totalAguinaldo === 0 && diferencia <= 7) ||
                (this.totalAguinaldo === 0 && diferencia > 8)
              "
              class="btn btn-primary btn-sm"
              (click)="
                handleEmpleado(
                  data.id,
                  data.salarioBase,
                  data.nombres,
                  data.apellidos
                )
              "
              title="Ingresos"
            >
              <i class="bi bi-person-check-fill"></i>
            </button>
            <button
              class="btn btn-danger btn-sm"
              (click)="
                handleEmpleadoDeduccion(
                  data.id,
                  data.salarioBase,
                  data.nombres,
                  data.apellidos
                )
              "
              title="Deducciones"
            >
              <i class="bi bi-person-dash-fill"></i>
            </button>
            <button
              class="btn btn-secondary btn-sm"
              (click)="handleEmpleadoClear(data.id)"
              title="Limpiar"
            >
              <i class="bi bi-trash-fill"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </nz-table>
  </div>
  <div class="steps-content" *ngIf="current === 2">
    <nz-result
      nzStatus="success"
      nzTitle="¡Archivo Generado Exitosamente!"
      nzSubTitle="{{
        this.nombre
      }} en formato de Excel con resumen detallado del control de asistencia y comprobantes de pago."
    >
      <div nz-result-extra>
        <button
          type="button"
          class="btn btn-primary"
          onClick="window.location.reload()"
        >
          <i
            nz-icon
            nzType="file-done"
            class="centerSmall"
            nzTheme="outline"
          ></i>
          Calcular nueva Planilla
        </button>
        <button type="button" class="btn btn-info" routerLink="/historial">
          <i nz-icon nzType="history" class="centerSmall" nzTheme="outline"></i>
          Revisar Historial
        </button>
        <button type="button" class="btn btn-success" (click)="exportExcel()">
          <i
            nz-icon
            nzType="download"
            class="centerSmall"
            nzTheme="outline"
          ></i>
          Descargar XLSX otra vez
        </button>
      </div>
    </nz-result>
  </div>
  <div class="steps-action">
    <button
      nz-button
      id="btnnext"
      nzType="primary"
      (click)="next()"
      disabled
      *ngIf="current < 2"
    >
      <span>Siguiente</span>
    </button>
  </div>
</div>
